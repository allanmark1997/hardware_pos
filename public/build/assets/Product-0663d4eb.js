import{r as u,T as z,c as Z,w as r,o as n,a as e,b as a,p as ee,k as H,G as E,d as i,g as $,t as O,F as P,e as b,f as c,u as t,n as G,O as W}from"./app-4abf3069.js";import{_ as se}from"./AppLayout-2fd3e68a.js";import oe from"./ProductList-57e9f68a.js";import{_ as N}from"./SecondaryButton-1eeee88e.js";import{_ as K}from"./Button-c1e625cb.js";import{_ as x}from"./InputError-1b32d025.js";import{_}from"./Input-0add1e43.js";import{_ as U}from"./DialogModal-dcf9c543.js";import{_ as m}from"./Icon-1d2570ca.js";import{_ as te}from"./buttonGroup-98cbd508.js";import{l as d}from"./index-bfb60029.js";import"./logo_main-f6fb4bdb.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./moment-fbc5633a.js";import"./Pagination2-bd359f9d.js";import"./ConfirmationModal-2105b995.js";import"./Modal-bde69d63.js";const le=e("div",{class:"flex justify-between"},[e("h2",{class:"font-semibold text-lg text-gray-800 leading-tight"}," Supplier Products ")],-1),ae={class:"py-"},re={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ne={class:"flex justify-between"},ie={class:"flex gap-2"},de=e("option",{selected:"",value:""},"Choose a category",-1),ue=["value"],ce={class:""},me={class:"my-auto gap-2 item-center flex"},pe={class:"mt-2 overflow-hidden"},ge={class:"grid grid-cols-3 gap-3"},_e={class:"my-auto gap-2 flex"},ve=e("span",null,"Add product",-1),fe={class:"my-auto gap-2 flex"},ye=e("span",null,"Add category",-1),be={class:"my-auto gap-1 flex"},he=e("span",null,"Edit category",-1),xe={class:"grid grid-cols-12 gap-1"},we={class:"col-span-6"},ke={class:"col-span-5"},Ce={key:0,class:"absolute z-50 w-60 bg-white rounded shadow"},Se={class:"overflow-y-auto py-1 h-[20vmin] text-gray-700","aria-labelledby":"dropdownUsersButton"},Ve=["onClick"],Ie=["src"],Te=e("div",{class:"flex justify-center"},[e("small",null,"Results")],-1),$e={class:"col-span-1 my-auto flex"},Oe={class:"col-span-6"},Pe={class:"col-span-5"},Ne={key:0,class:"absolute z-50 w-60 bg-white rounded shadow"},je={class:"overflow-y-auto py-1 h-[20vmin] text-gray-700","aria-labelledby":"dropdownUsersButton"},ze=["onClick"],Ue=["src"],Re=e("div",{class:"flex justify-center"},[e("small",null,"Results")],-1),Ae={class:"col-span-1 my-auto flex"},Le={class:"col-span-full"},Be={class:"col-span-12"},Fe=e("option",{selected:"",value:""},"Choose a category",-1),He=["value"],Ee=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),Ge={class:"grid grid-cols-12 gap-1"},We={class:"col-span-12"},Ke=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),Me={class:"grid grid-cols-12 gap-1"},De={class:"col-span-10"},qe={class:"col-span-2 my-auto"},Je={class:"p-2 overflow-auto h-[380px]"},Qe={class:""},Xe=e("small",null," Category name ",-1),Ye=["onClick"],vs={__name:"Product",props:["products","search","categories","category","product_lists","suppliers"],setup(g){const j=g,w=u(j.search),k=u(j.category),C=u(!1),S=u(!1),V=u(!1),R=u(!1);u([]),u(!1),u(!1),u(!1),u(!1);const v=u(!1),f=u(!1),h=u(!1),l=z({product_id:"",product_name:"",supplier_id:"",supplier_name:"",category:"",price:""}),I=z({name:null}),y=z({name:null}),M=()=>{l.post(route("supplier_products.store"),{preserveScroll:!0,onSuccess:()=>{l.reset(),d.success("Product successfully added!",{autoClose:1e3,transition:d.TRANSITIONS.FLIP,position:d.POSITION.TOP_RIGHT}),A()},onError:()=>{d.error(l.errors.message,{autoClose:5e3,transition:d.TRANSITIONS.FLIP,position:d.POSITION.TOP_RIGHT})}})},A=()=>{C.value=!C.value,v.value=!1},L=()=>{S.value=!S.value,v.value=!1},D=()=>{V.value=!V.value,v.value=!1},q=()=>{I.post(route("supplier_categories.store"),{preserveScroll:!0,onSuccess:()=>{d.success("Successfully added category!",{autoClose:1e3,transition:d.TRANSITIONS.FLIP,position:d.POSITION.TOP_RIGHT}),I.reset(),L()},onError:T=>{d.error("Something went wrong "+T,{error:1e3,transition:d.TRANSITIONS.FLIP,position:d.POSITION.TOP_RIGHT})}})},J=T=>{R.value=T,y.name=T.name},Q=()=>{y.put(route("supplier_categories.update",R.value),{preserveScroll:!0,onSuccess:()=>{y.reset(),d.success("Category successfully updated!",{autoClose:1e3,transition:d.TRANSITIONS.FLIP,position:d.POSITION.TOP_RIGHT})}})},B=()=>{W.get(route("supplier_products.index",{search:w.value,category:k.value}))},X=()=>{W.get(route("supplier_products.index",{search:null,category:null}))},Y=()=>{f.value=!f.value};return(T,o)=>(n(),Z(se,{title:"Supplier Products"},{header:r(()=>[le]),default:r(()=>[e("div",ae,[e("div",re,[e("div",ne,[e("div",ie,[a(_,{modelValue:w.value,"onUpdate:modelValue":o[0]||(o[0]=s=>w.value=s),class:"rounded-lg mb-2 w-[30vmin]",type:"text",label:"Search product",onKeyup:ee(B,["enter"])},null,8,["modelValue","onKeyup"]),H(e("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5","onUpdate:modelValue":o[1]||(o[1]=s=>k.value=s),onChange:B},[de,(n(!0),i(P,null,$(j.categories,(s,p)=>(n(),i("option",{key:p,value:s.id},O(s.name),9,ue))),128))],544),[[E,k.value]]),k.value||w.value?(n(),i("button",{key:0,class:"h-10 my-auto mt-5",onClick:X},[a(m,{icon:"close_icon",size:"sm"})])):b("",!0)]),e("div",ce,[e("button",{onClick:o[2]||(o[2]=s=>v.value=!0),class:"bg-yellow-400 text-sm lg:text-xs font-bold mb-2 mt-5 rounded-lg p-2 hover:bg-yellow-500 flex gap-2 item-center justify-center"},[e("a",me,[a(m,{icon:"option",size:"sm"})])])])]),e("div",pe,[a(oe,{products:g.products,search:w.value,category:k.value,categories:g.categories,product_lists:g.product_lists,suppliers:g.suppliers},null,8,["products","search","category","categories","product_lists","suppliers"])])])]),a(te,{show:v.value,onClose:o[4]||(o[4]=s=>v.value=!1),maxWidth:"2xl"},{title:r(()=>[c("Actions")]),content:r(()=>[e("div",ge,[e("button",{onClick:A,class:"bg-yellow-400 text-sm lg:text-xs font-bold rounded-lg p-2 hover:bg-yellow-500 flex gap-2 item-center justify-center"},[e("a",_e,[a(m,{icon:"cart",size:"sm"}),ve])]),e("button",{onClick:L,class:"bg-yellow-400 text-sm lg:text-xs font-bold rounded-lg p-2 hover:bg-yellow-500 flex gap-2 item-center justify-center"},[e("a",fe,[a(m,{icon:"tag",size:"sm"}),ye])]),e("button",{onClick:D,class:"bg-yellow-400 text-sm lg:text-xs font-bold rounded-lg p-2 hover:bg-yellow-500 flex gap-2 item-center justify-center"},[e("a",be,[a(m,{icon:"pencil",size:"sm"}),he])])])]),footer:r(()=>[a(N,{onClick:o[3]||(o[3]=s=>v.value=!1),class:"bg-green-200 mt-2 hover:bg-green-400"},{default:r(()=>[c(" close ")]),_:1})]),_:1},8,["show"]),a(U,{show:C.value,onClose:o[17]||(o[17]=s=>C.value=!1),maxWidth:"2xl"},{title:r(()=>[c(" Add product here!")]),content:r(()=>[e("div",xe,[e("div",we,[a(_,{type:"text",label:"Product name view",modelValue:t(l).product_name,"onUpdate:modelValue":o[5]||(o[5]=s=>t(l).product_name=s),disabled:""},null,8,["modelValue"]),a(x,{message:t(l).errors.product_id,class:"mt-2"},null,8,["message"])]),e("div",ke,[a(_,{disabled:f.value!=!0,type:"text",label:"Search product name",modelValue:t(l).product_name,"onUpdate:modelValue":o[6]||(o[6]=s=>t(l).product_name=s)},null,8,["disabled","modelValue"]),f.value==!0?(n(),i("div",Ce,[e("ul",Se,[(n(!0),i(P,null,$(g.product_lists,(s,p)=>(n(),i("li",{key:p},[s.name.toLowerCase().includes(t(l).product_name.toLowerCase())?(n(),i("a",{key:0,class:"flex items-center py-2 px-4 hover:bg-gray-100 cursor-pointer",onClick:F=>(t(l).product_name=s.name,t(l).product_id=s.id,f.value=!1)},[e("img",{class:"mr-2 w-6 h-6 rounded-full",src:s.product_image},null,8,Ie),c(" "+O(s.name),1)],8,Ve)):b("",!0)]))),128))]),Te,e("a",{onClick:o[7]||(o[7]=s=>(f.value=!1,t(l).product_name="",t(l).product_id=!1)),class:"flex items-center p-3 text-sm font-medium text-blue-600 bg-gray-50 border-t border-gray-200 hover:bg-gray-100 hover:underline"}," clear search ")])):b("",!0)]),e("div",$e,[t(l).product_id?(n(),i("button",{key:0,class:"h-10 my-auto mt-5",onClick:o[8]||(o[8]=s=>(f.value=!1,t(l).product_name="",t(l).product_id=!1))},[a(m,{icon:"close_icon",size:"sm"})])):b("",!0),e("button",{onClick:Y,class:"bg-yellow-400 text-sm lg:text-xs font-bold rounded-lg p-2 hover:bg-yellow-500 flex gap-2 item-center justify-center mt-4"},[a(m,{icon:"search_icon",size:"sm"})])]),e("div",Oe,[a(_,{type:"text",label:"Supplier name view",modelValue:t(l).supplier_name,"onUpdate:modelValue":o[9]||(o[9]=s=>t(l).supplier_name=s),disabled:""},null,8,["modelValue"]),a(x,{message:t(l).errors.supplier_id,class:"mt-2"},null,8,["message"])]),e("div",Pe,[a(_,{disabled:h.value!=!0,type:"text",label:"Search supplier's name",modelValue:t(l).supplier_name,"onUpdate:modelValue":o[10]||(o[10]=s=>t(l).supplier_name=s)},null,8,["disabled","modelValue"]),h.value==!0?(n(),i("div",Ne,[e("ul",je,[(n(!0),i(P,null,$(g.suppliers,(s,p)=>(n(),i("li",{key:p},[s.supplier_name.toLowerCase().includes(t(l).supplier_name.toLowerCase())?(n(),i("a",{key:0,class:"flex items-center py-2 px-4 hover:bg-gray-100 cursor-pointer",onClick:F=>(t(l).supplier_name=s.supplier_name,t(l).supplier_id=s.id,h.value=!1)},[e("img",{class:"mr-2 w-6 h-6 rounded-full",src:s.image},null,8,Ue),c(" "+O(s.supplier_name),1)],8,ze)):b("",!0)]))),128))]),Re,e("a",{onClick:o[11]||(o[11]=s=>(h.value=!1,t(l).supplier_name="",t(l).supplier_id=!1)),class:"flex items-center p-3 text-sm font-medium text-blue-600 bg-gray-50 border-t border-gray-200 hover:bg-gray-100 hover:underline"}," clear search ")])):b("",!0)]),e("div",Ae,[t(l).supplier_id?(n(),i("button",{key:0,class:"h-10 my-auto mt-5",onClick:o[12]||(o[12]=s=>(h.value=!1,t(l).supplier_name="",t(l).supplier_id=!1))},[a(m,{icon:"close_icon",size:"sm"})])):b("",!0),e("button",{onClick:o[13]||(o[13]=s=>h.value=!0),class:"bg-yellow-400 text-sm lg:text-xs font-bold rounded-lg p-2 hover:bg-yellow-500 flex gap-2 item-center justify-center mt-4"},[a(m,{icon:"search_icon",size:"sm"})])]),e("div",Le,[a(_,{type:"number",label:"Product price",modelValue:t(l).price,"onUpdate:modelValue":o[14]||(o[14]=s=>t(l).price=s)},null,8,["modelValue"]),a(x,{message:t(l).errors.price,class:"mt-2"},null,8,["message"])]),e("div",Be,[H(e("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-full h-10 my-auto mt-5","onUpdate:modelValue":o[15]||(o[15]=s=>t(l).category=s)},[Fe,(n(!0),i(P,null,$(j.categories,(s,p)=>(n(),i("option",{key:p,value:s.id},O(s.name),9,He))),128))],512),[[E,t(l).category]]),a(x,{message:t(l).errors.category,class:"mt-2"},null,8,["message"])])])]),footer:r(()=>[a(N,{onClick:o[16]||(o[16]=s=>C.value=!1),class:"mr-2 hover:bg-red-500"},{default:r(()=>[c(" nevermind ")]),_:1}),a(K,{class:G([{"opacity-25":t(l).processing},"bg-green-200 hover:bg-green-400"]),disabled:t(l).processing,onClick:M},{default:r(()=>[Ee,c(" Submit ")]),_:1},8,["class","disabled"])]),_:1},8,["show"]),a(U,{show:S.value,onClose:o[20]||(o[20]=s=>S.value=!1),maxWidth:"2xl"},{title:r(()=>[c(" Add category here!")]),content:r(()=>[e("div",Ge,[e("div",We,[a(_,{type:"text",label:"Enter product category name",modelValue:t(I).name,"onUpdate:modelValue":o[18]||(o[18]=s=>t(I).name=s)},null,8,["modelValue"]),a(x,{message:t(I).errors.name,class:"mt-2"},null,8,["message"])])])]),footer:r(()=>[a(N,{onClick:o[19]||(o[19]=s=>S.value=!1),class:"mr-2 hover:bg-red-400"},{default:r(()=>[c(" nevermind ")]),_:1}),a(K,{class:G([{"opacity-25":t(l).processing},"bg-green-200 hover:bg-green-400"]),disabled:t(l).processing,onClick:q},{default:r(()=>[Ke,c(" Submit ")]),_:1},8,["class","disabled"])]),_:1},8,["show"]),a(U,{show:V.value,onClose:o[23]||(o[23]=s=>V.value=!1),maxWidth:"2xl"},{title:r(()=>[c(" Update category here!")]),content:r(()=>[e("div",Me,[e("div",De,[a(_,{type:"text",label:"Enter product category name",disabled:t(y).name==null,modelValue:t(y).name,"onUpdate:modelValue":o[21]||(o[21]=s=>t(y).name=s)},null,8,["disabled","modelValue"]),a(x,{message:t(y).errors.name,class:"mt-2"},null,8,["message"])]),e("div",qe,[a(N,{onClick:Q,class:"mr-2 hover:bg-green-300 mt-4"},{default:r(()=>[c(" Save ")]),_:1})])]),e("div",Je,[(n(!0),i(P,null,$(g.categories,(s,p)=>(n(),i("div",{key:p,class:"flex justify-between border-2 border-gray-200 p-2 rounded-lg shadow-sm hover:border-gray-200 mb-1"},[e("div",null,[e("p",Qe,O(s.name),1),Xe]),e("button",{onClick:F=>J(s),class:""},[a(m,{icon:"pencil",size:"sm"})],8,Ye)]))),128))])]),footer:r(()=>[a(N,{onClick:o[22]||(o[22]=s=>V.value=!1),class:"mr-2 hover:bg-red-300"},{default:r(()=>[c(" Close ")]),_:1})]),_:1},8,["show"])]),_:1}))}};export{vs as default};
