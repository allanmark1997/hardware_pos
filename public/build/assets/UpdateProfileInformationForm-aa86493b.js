import{T as B,r as h,c as x,w as m,o as _,f as d,d as P,a as l,b as s,k as g,L as y,_ as F,h as b,e as V,u as o,i as j,G as A,n as E,O as L}from"./app-4abf3069.js";import{_ as M}from"./ActionMessage-cecfd5cd.js";import{_ as O}from"./FormSection-516051f8.js";import{_ as i}from"./InputError-1b32d025.js";import{_ as u}from"./InputLabel-6e5db44f.js";import{_ as R}from"./PrimaryButton-def3551c.js";import{_ as S}from"./SecondaryButton-1eeee88e.js";import{_ as f}from"./TextInput-e09318a4.js";import"./SectionTitle-daae81f9.js";import"./_plugin-vue_export-helper-c27b6911.js";const T={key:0,class:"col-span-6 sm:col-span-4"},z={class:"mt-2"},D=["src","alt"],G={class:"mt-2"},Y={class:"col-span-6 sm:col-span-4"},q={key:0},H={class:"text-sm mt-2"},J={class:"mt-2 font-medium text-sm text-green-600"},K={class:"col-span-6 sm:col-span-4"},Q={class:"col-span-6 sm:col-span-4"},W={class:"col-span-6 sm:col-span-4"},X={class:"col-span-6 sm:col-span-4"},Z=l("option",{value:1},"Male",-1),ee=l("option",{value:0},"Female",-1),se=[Z,ee],oe={class:"col-span-6 sm:col-span-4"},ae={class:"col-span-6 sm:col-span-4"},le={class:"col-span-6 sm:col-span-4"},ve={__name:"UpdateProfileInformationForm",props:{user:Object},setup(p){const n=p,e=B({_method:"PUT",name:n.user.name,email:n.user.email,photo:null,fname:n.user.fname,mname:n.user.mname,lname:n.user.lname,sex:n.user.sex,bday:n.user.bday,address:n.user.address,contact_no:n.user.contact_no}),k=h(null),v=h(null),c=h(null),C=()=>{c.value&&(e.photo=c.value.files[0]),e.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>w()})},U=()=>{k.value=!0},N=()=>{c.value.click()},$=()=>{const r=c.value.files[0];if(!r)return;const a=new FileReader;a.onload=t=>{v.value=t.target.result},a.readAsDataURL(r)},I=()=>{L.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{v.value=null,w()}})},w=()=>{var r;(r=c.value)!=null&&r.value&&(c.value.value=null)};return(r,a)=>(_(),x(O,{onSubmitted:C},{title:m(()=>[d(" Profile Information ")]),description:m(()=>[d(" Update your account's profile information and email address. ")]),form:m(()=>[r.$page.props.jetstream.managesProfilePhotos?(_(),P("div",T,[l("input",{ref_key:"photoInput",ref:c,type:"file",class:"hidden",onChange:$},null,544),s(u,{for:"photo",value:"Photo"}),g(l("div",z,[l("img",{src:p.user.profile_photo_url,alt:p.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,D)],512),[[y,!v.value]]),g(l("div",G,[l("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:F("background-image: url('"+v.value+"');")},null,4)],512),[[y,v.value]]),s(S,{class:"mt-2 mr-2",type:"button",onClick:b(N,["prevent"])},{default:m(()=>[d(" Select A New Photo ")]),_:1},8,["onClick"]),p.user.profile_photo_path?(_(),x(S,{key:0,type:"button",class:"mt-2",onClick:b(I,["prevent"])},{default:m(()=>[d(" Remove Photo ")]),_:1},8,["onClick"])):V("",!0),s(i,{message:o(e).errors.photo,class:"mt-2"},null,8,["message"])])):V("",!0),l("div",Y,[s(u,{for:"email",value:"Email"}),s(f,{id:"email",modelValue:o(e).email,"onUpdate:modelValue":a[0]||(a[0]=t=>o(e).email=t),type:"email",class:"mt-1 block w-full",autocomplete:"username"},null,8,["modelValue"]),s(i,{message:o(e).errors.email,class:"mt-2"},null,8,["message"]),r.$page.props.jetstream.hasEmailVerification&&p.user.email_verified_at===null?(_(),P("div",q,[l("p",H,[d(" Your email address is unverified. "),s(o(j),{href:r.route("verification.send"),method:"post",as:"button",class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:b(U,["prevent"])},{default:m(()=>[d(" Click here to re-send the verification email. ")]),_:1},8,["href","onClick"])]),g(l("div",J," A new verification link has been sent to your email address. ",512),[[y,k.value]])])):V("",!0)]),l("div",K,[s(u,{for:"fname",value:"First Name"}),s(f,{id:"fname",modelValue:o(e).fname,"onUpdate:modelValue":a[1]||(a[1]=t=>o(e).fname=t),type:"text",class:"mt-1 block w-full",autocomplete:"fname"},null,8,["modelValue"]),s(i,{message:o(e).errors.fname,class:"mt-2"},null,8,["message"])]),l("div",Q,[s(u,{for:"mname",value:"Middle Name"}),s(f,{id:"mname",modelValue:o(e).mname,"onUpdate:modelValue":a[2]||(a[2]=t=>o(e).mname=t),type:"text",class:"mt-1 block w-full",autocomplete:"mname"},null,8,["modelValue"]),s(i,{message:o(e).errors.mname,class:"mt-2"},null,8,["message"])]),l("div",W,[s(u,{for:"lname",value:"Last Name"}),s(f,{id:"lname",modelValue:o(e).lname,"onUpdate:modelValue":a[3]||(a[3]=t=>o(e).lname=t),type:"text",class:"mt-1 block w-full",autocomplete:"lname"},null,8,["modelValue"]),s(i,{message:o(e).errors.lname,class:"mt-2"},null,8,["message"])]),l("div",X,[s(u,{for:"sex",value:"Sex"}),g(l("select",{class:"border border-gray-300 focus-yellow-500 w-full rounded-lg focus:outline-none focus:ring-0 focus:border-yellow-500","onUpdate:modelValue":a[4]||(a[4]=t=>o(e).sex=t)},se,512),[[A,o(e).sex]]),s(i,{message:o(e).errors.sex,class:"mt-2"},null,8,["message"])]),l("div",oe,[s(u,{for:"bday",value:"Birthday"}),s(f,{id:"bday",modelValue:o(e).bday,"onUpdate:modelValue":a[5]||(a[5]=t=>o(e).bday=t),type:"date",class:"mt-1 block w-full",autocomplete:"bday"},null,8,["modelValue"]),s(i,{message:o(e).errors.bday,class:"mt-2"},null,8,["message"])]),l("div",ae,[s(u,{for:"address",value:"Address"}),s(f,{id:"address",modelValue:o(e).address,"onUpdate:modelValue":a[6]||(a[6]=t=>o(e).address=t),type:"text",class:"mt-1 block w-full",autocomplete:"address"},null,8,["modelValue"]),s(i,{message:o(e).errors.address,class:"mt-2"},null,8,["message"])]),l("div",le,[s(u,{for:"contact_no",value:"Contact Number"}),s(f,{id:"contact_no",modelValue:o(e).contact_no,"onUpdate:modelValue":a[7]||(a[7]=t=>o(e).contact_no=t),type:"text",class:"mt-1 block w-full",autocomplete:"contact_no"},null,8,["modelValue"]),s(i,{message:o(e).errors.contact_no,class:"mt-2"},null,8,["message"])])]),actions:m(()=>[s(M,{on:o(e).recentlySuccessful,class:"mr-3"},{default:m(()=>[d(" Saved. ")]),_:1},8,["on"]),s(R,{class:E({"opacity-25":o(e).processing}),disabled:o(e).processing},{default:m(()=>[d(" Save ")]),_:1},8,["class","disabled"])]),_:1}))}};export{ve as default};
