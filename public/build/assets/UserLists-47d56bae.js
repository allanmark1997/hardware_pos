import{a as $,b as h,_ as z,h as M}from"./Icon-cf2cbbb0.js";import{r as v,o,d as a,a as t,f as g,t as r,e as f,O as j,T as S,F as w,g as V,b as n,w as x,n as A,u as b}from"./app-446e3cd7.js";import{_ as B}from"./ConfirmationModal-c7ef3d17.js";import{_ as N}from"./SecondaryButton-9cfc8b53.js";import"./Modal-5c83d8a0.js";const D={class:"col-span-4 relative"},Y=t("svg",{class:"w-2.5 h-2.5 ml-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"})],-1),F={key:0,id:"dropdown",class:"z-20 bg-white divide-y divide-gray-100 rounded-lg shadow w-44 absolute"},E={class:"py-2 text-sm text-gray-700"},L={__name:"CustomDropdownPosition",props:["status","id"],setup(y){const i=y,e=v(!1),c=v(i.status==1?"Administrator":"Cashier"),d=()=>{e.value=!e.value},m=p=>{p==1?c.value="Administrator":c.value="Cashier",j.put(route("users.update_user_position",{type:p,id:i.id})),e.value=!e.value};return(p,_)=>(o(),a("div",D,[t("button",{onClick:d,class:"text-gray-500 bg-white focus:ring-1 focus:outline-none focus:ring-yellow-500 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center border border-gray-300 w-full",type:"button"},[g(r(c.value)+" ",1),Y]),e.value?(o(),a("div",F,[t("ul",E,[t("li",null,[t("a",{onClick:_[0]||(_[0]=l=>m(1)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Staff Administrator "),t("a",{onClick:_[1]||(_[1]=l=>m(2)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Cashier ")])])])):f("",!0)]))}},O={class:"container px-4 mx-auto"},T={class:"flex flex-col mt-6"},U={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},H={class:"text-gray-600 p-10"},P={class:"container px-5 mx-auto"},R={class:"flex flex-wrap -m-4"},W={class:"bg-gray-50 border border-1 border-yellow-400 shadow-xl p-6 rounded-lg"},q=["src","alt"],G={class:"tracking-widest text-indigo-500 text-xs font-medium title-font"},I={class:"text-lg text-gray-900 font-medium title-font mb-4"},J={class:"flex mt-4 gap-1"},K={class:"text-sm font-medium"},Q={class:"flex mt-4 gap-1 mb-1"},X={class:"text-gray-700"},Z={class:"flex mt-4 gap-2"},tt={class:"text-sm"},st={class:"flex mt-4 gap-2"},et={class:"text-sm"},ot={key:0,class:"leading-relaxed font-bold mt-5 mb-2 text-base"},at={key:1,class:"text-sm whitespace-nowrap"},nt={key:2,class:"text-sm mt-3 whitespace-nowrap"},it={class:"flex my-auto gap-1"},lt=t("p",{class:"text-sm text-gray-700 text-center font-bold"}," Root admin ",-1),rt={key:3,class:"text-sm mt-2 flex justify-center w-100 whitespace-nowrap"},ct=["onClick"],dt=["onClick"],_t={key:0,class:"mx-auto text-center"},ut=t("p",{class:"text-4xl text-gray-700"},"No users!",-1),mt=[ut],pt={class:"flex items-center justify-between my-6"},ht={class:"mt-6 text-sm text-gray-500"},xt=t("p",{class:"text-red-500"}," Clicking can update the system and this is not reversible! ",-1),ft=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),kt={__name:"UserLists",props:["users","search"],setup(y){const i=y,e=v(!1),c=v(""),d=S({status:null,type:!0}),m=(l,u)=>{d.status=l,c.value=u,e.value=!e.value},p=l=>M(l).format("MMMM Do YYYY"),_=()=>{d.put(route("users.update_user",{user:c.value}),{preserveScroll:!0,onSuccess:()=>{alert("success"),e.value=!e.value,d.reset(),c.value.reset()},onError:l=>{console.log(l)}})};return(l,u)=>(o(),a(w,null,[t("section",O,[t("div",T,[t("div",U,[t("section",H,[t("div",P,[t("div",R,[(o(!0),a(w,null,V(i.users.data.filter(s=>s.type!=0&&i.users.data.length!=0),(s,k)=>(o(),a("div",{key:k,class:"xl:w-1/3 md:w-1/2 p-4"},[t("div",W,[t("img",{class:"h-40 rounded max-w- object-fit object-center mb-6 mx-auto",src:s.profile_photo_url,alt:s.name},null,8,q),t("h3",G,r(s.email),1),t("h2",I,r(s.name),1),t("div",J,[n(h,{icon:"sex",size:"sm"}),t("p",K,r(s.sex==0?"Female":"Male"),1)]),t("div",Q,[n(h,{icon:"birthday",size:"sm"}),t("h4",X,r(p(s.bday)),1)]),t("div",Z,[n(h,{icon:"mobile",size:"sm"}),t("p",tt,r(s.contact_no),1)]),t("div",st,[n(h,{icon:"location",size:"sm"}),t("p",et,r(s.address),1)]),s.type!=0?(o(),a("p",ot," Controls ")):f("",!0),s.type!=0?(o(),a("div",at,[n(L,{status:s.type,id:s.id},null,8,["status","id"])])):(o(),a("div",nt,[t("div",it,[n(h,{icon:"administrator",size:"sm"}),lt])])),s.type!=0?(o(),a("div",rt,[s.status==0&&s.type!=0?(o(),a("button",{key:0,onClick:C=>m(!0,s),class:"p-2 bg-green-400 rounded-lg hover:bg-green-600"}," Activate ",8,ct)):s.status==1&&s.type!=0?(o(),a("button",{key:1,onClick:C=>m(!1,s),class:"p-2 bg-red-400 rounded-lg hover:bg-red-600"}," Deactivate ",8,dt)):f("",!0)])):f("",!0)])]))),128)),i.users.data.length==0?(o(),a("div",_t,mt)):f("",!0)])])])])]),t("div",pt,[n($,{links:i.users.links,search:i.search},null,8,["links","search"]),t("p",ht," Showing "+r(i.users.data.length)+" Users ",1)])]),n(B,{show:e.value,onClose:u[1]||(u[1]=s=>e.value=!1),maxWidth:"2xl"},{title:x(()=>[g(" Are you sure you want to update this user?")]),content:x(()=>[xt]),footer:x(()=>[n(N,{onClick:u[0]||(u[0]=s=>e.value=!1),class:"mr-2"},{default:x(()=>[g(" nevermind ")]),_:1}),n(z,{class:A([{"opacity-25":b(d).processing},"bg-green-200 hover:bg-green-400"]),disabled:b(d).processing,onClick:_},{default:x(()=>[ft,g("Â Submit ")]),_:1},8,["class","disabled"])]),_:1},8,["show"])],64))}};export{kt as default};
