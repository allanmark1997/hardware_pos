import{_ as S}from"./Pagination2-bd359f9d.js";import{r as y,o,d as n,a as t,f as v,t as l,e as g,O as I,T,F as b,g as N,b as a,w as x,n as O,u as k}from"./app-4abf3069.js";import{_ as z}from"./ConfirmationModal-2105b995.js";import{_ as A}from"./SecondaryButton-1eeee88e.js";import{_ as M}from"./Button-c1e625cb.js";import{_ as f}from"./Icon-1d2570ca.js";import{l as m}from"./index-bfb60029.js";import{h as P}from"./moment-fbc5633a.js";import"./Modal-bde69d63.js";const j={class:"col-span-4 relative"},V=t("svg",{class:"w-2.5 h-2.5 ml-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"})],-1),B={key:0,id:"dropdown",class:"z-20 bg-white divide-y divide-gray-100 rounded-lg shadow w-44 absolute"},F={class:"py-2 text-sm text-gray-700"},R={__name:"CustomDropdownPosition",props:["status","id"],setup(w){const i=w,e=y(!1),c=y(i.status==1?"Administrator":"Cashier"),d=()=>{e.value=!e.value},p=h=>{h==1?c.value="Administrator":c.value="Cashier",I.put(route("users.update_user_position",{type:h,id:i.id})),e.value=!e.value};return(h,u)=>(o(),n("div",j,[t("button",{onClick:d,class:"text-gray-500 bg-white focus:ring-1 focus:outline-none focus:ring-yellow-500 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center border border-gray-300 w-full",type:"button"},[v(l(c.value)+" ",1),V]),e.value?(o(),n("div",B,[t("ul",F,[t("li",null,[t("a",{onClick:u[0]||(u[0]=r=>p(1)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Staff Administrator "),t("a",{onClick:u[1]||(u[1]=r=>p(2)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Cashier ")])])])):g("",!0)]))}},D={class:"container px-4 mx-auto"},L={class:"flex flex-col mt-6"},Y={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},H={class:"text-gray-600 p-10"},U={class:"container px-5 mx-auto"},E={class:"flex flex-wrap -m-4"},G={class:"bg-gray-50 border border-1 border-yellow-400 shadow-xl p-6 rounded-lg"},W=["src","alt"],q={class:"tracking-widest text-indigo-500 text-xs font-medium title-font"},J={class:"text-lg text-gray-900 font-medium title-font mb-4"},K={class:"flex mt-4 gap-1"},Q={class:"text-sm font-medium"},X={class:"flex mt-1 gap-1 mb-1"},Z={class:"text-gray-700 text-sm"},tt={class:"flex mt-1 gap-2"},st={class:"text-sm"},et={class:"flex mt-1 gap-2"},ot={class:"text-xs"},nt={key:0,class:"leading-relaxed font-bold mt-5 mb-2 text-base"},at={key:1,class:"text-sm whitespace-nowrap"},it={key:2,class:"text-sm mt-3 whitespace-nowrap"},rt={class:"flex my-auto gap-1"},lt=t("p",{class:"text-sm text-gray-700 text-center font-bold"}," Root admin ",-1),ct={key:3,class:"text-sm mt-2 flex justify-center w-100 whitespace-nowrap"},dt=["onClick"],ut=["onClick"],_t={key:0,class:"mx-auto text-center"},mt=t("p",{class:"text-4xl text-gray-700"},"No users!",-1),pt=[mt],ht={class:"flex items-center justify-between my-6"},xt={class:"mt-6 text-sm text-gray-500"},ft=t("p",{class:"text-red-500"}," Clicking can update the system and may cause possible error! ",-1),gt=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),Tt={__name:"UserLists",props:["users","search"],setup(w){const i=w,e=y(!1),c=y(""),d=T({status:null,type:!0}),p=(r,_)=>{d.status=r,c.value=_,e.value=!e.value},h=r=>P(r).format("MMMM Do YYYY"),u=()=>{d.put(route("users.update_user",{user:c.value}),{preserveScroll:!0,onSuccess:()=>{m.success("User successfully updated!",{autoClose:1e3,transition:m.TRANSITIONS.FLIP,position:m.POSITION.TOP_RIGHT}),e.value=!e.value,d.reset(),c.value.reset()},onError:r=>{m.error("Somthing went wrong "+r,{autoClose:1e3,transition:m.TRANSITIONS.FLIP,position:m.POSITION.TOP_RIGHT})}})};return(r,_)=>(o(),n(b,null,[t("section",D,[t("div",L,[t("div",Y,[t("section",H,[t("div",U,[t("div",E,[(o(!0),n(b,null,N(i.users.data.filter(s=>s.type!=0&&i.users.data.length!=0),(s,C)=>(o(),n("div",{key:C,class:"xl:w-1/3 md:w-1/2 p-4"},[t("div",G,[t("img",{class:"h-40 rounded max-w- object-fit object-center mb-6 mx-auto",src:s.profile_photo_url,alt:s.name},null,8,W),t("h3",q,l(s.email),1),t("h2",J,l(s.name),1),t("div",K,[a(f,{icon:"sex",size:"sm"}),t("p",Q,l(s.sex==0?"Female":"Male"),1)]),t("div",X,[a(f,{icon:"birthday",size:"sm"}),t("h4",Z,l(h(s.bday)),1)]),t("div",tt,[a(f,{icon:"mobile",size:"sm"}),t("p",st,l(s.contact_no),1)]),t("div",et,[a(f,{icon:"location",size:"sm"}),t("p",ot,l(s.address),1)]),s.type!=0?(o(),n("p",nt," Controls ")):g("",!0),s.type!=0?(o(),n("div",at,[a(R,{status:s.type,id:s.id},null,8,["status","id"])])):(o(),n("div",it,[t("div",rt,[a(f,{icon:"administrator",size:"sm"}),lt])])),s.type!=0?(o(),n("div",ct,[s.status==0&&s.type!=0?(o(),n("button",{key:0,onClick:$=>p(!0,s),class:"p-2 bg-green-400 rounded-lg hover:bg-green-600"}," Activate ",8,dt)):s.status==1&&s.type!=0?(o(),n("button",{key:1,onClick:$=>p(!1,s),class:"p-2 bg-red-400 rounded-lg hover:bg-red-600"}," Deactivate ",8,ut)):g("",!0)])):g("",!0)])]))),128)),i.users.data.length==0?(o(),n("div",_t,pt)):g("",!0)])])])])]),t("div",ht,[a(S,{links:i.users.links,search:i.search},null,8,["links","search"]),t("p",xt," Showing "+l(i.users.data.length)+" Users ",1)])]),a(z,{show:e.value,onClose:_[1]||(_[1]=s=>e.value=!1),maxWidth:"2xl"},{title:x(()=>[v(" Are you sure you want to update this user's status?")]),content:x(()=>[ft]),footer:x(()=>[a(A,{onClick:_[0]||(_[0]=s=>e.value=!1),class:"mr-2"},{default:x(()=>[v(" nevermind ")]),_:1}),a(M,{class:O([{"opacity-25":k(d).processing},"bg-green-200 hover:bg-green-400"]),disabled:k(d).processing,onClick:u},{default:x(()=>[gt,v("Â Submit ")]),_:1},8,["class","disabled"])]),_:1},8,["show"])],64))}};export{Tt as default};
