import{r as m,T as z,o as i,c as oe,w as r,a as e,b as a,q as le,k as E,s as H,d,g as M,t as S,F as y,e as x,f as c,u as l,x as ae,h as N,n as O,O as q}from"./app-446e3cd7.js";import{_ as re}from"./AppLayout-2097ddb4.js";import ne from"./ProductList-df0412bc.js";import{_ as L}from"./SecondaryButton-9cfc8b53.js";import{_ as A}from"./Icon-cf2cbbb0.js";import{_ as v}from"./InputError-f8d375e9.js";import{_ as g}from"./Input-6be026a1.js";import{_ as D}from"./DialogModal-b191a85c.js";import"./logo_main-f6fb4bdb.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ConfirmationModal-c7ef3d17.js";import"./Modal-5c83d8a0.js";const ie=e("h2",{class:"font-semibold text-lg text-gray-800 leading-tight"}," Products ",-1),de={class:"py-"},ce={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ue={class:"flex justify-between"},pe={class:"flex gap-2"},me=e("option",{selected:"",value:""},"Choose a category",-1),ge=["value"],ve=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 text-red-500 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),_e=[ve],fe=e("a",{class:"my-auto gap-2 flex"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})]),e("span",null,"Add product")],-1),he=[fe],we=e("a",{class:"my-auto gap-2 flex"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 6h.008v.008H6V6z"})]),e("span",null,"Add category")],-1),ye=[we],xe=e("a",{class:"my-auto gap-1 flex"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})]),e("span",null,"Edit category")],-1),be=[xe],ke={class:"mt-2 overflow-hidden"},Ve={class:"grid grid-cols-12 gap-1"},Ce={class:"col-span-12"},je={class:"col-span-12"},Me={class:"col-span-12"},Se={key:0,class:"col-span-3"},Le={key:1,class:"col-span-6"},Ue={key:2,class:"col-span-3 mx-auto mt-3"},$e={key:3,class:"col-span-12"},Be={class:"grid grid-cols-12 border p-2 gap-2"},ze={class:"col-span-11 border-b-2"},Ee={class:"col-span-1"},Ae={class:"col-span-6"},De={class:"col-span-6"},Pe={class:"col-span-12"},Te=e("option",{selected:"",value:""},"Choose a category",-1),Re=["value"],Fe=e("div",{class:"flex flex-col items-center justify-center pt-5 pb-6"},[e("svg",{"aria-hidden":"true",class:"w-10 h-10 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),e("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-400"},[e("span",{class:"font-semibold"},"Click to upload"),c(" or drag and drop ")]),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," PNG, JPG or GIF (MAX. 800x400px) ")],-1),He=e("input",{id:"post_image",type:"file",accept:"image/png, image/gif, image/jpeg",class:"hidden"},null,-1),Ne=[Fe,He],Oe={class:"col-span-12 flex items-center justify-center mt-4"},qe={class:"shadow-lg bg-white p-3"},Ge=["src"],Ke={class:"mt-3 flex justify-end flex-wrap"},We=["onClick"],Ie=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{class:"text-red-500","stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),Je=e("span",{class:"text-red-500"},"Remove",-1),Xe=[Ie,Je],Qe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),Ye={class:"grid grid-cols-12 gap-1"},Ze={class:"col-span-12"},et=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),tt={class:"grid grid-cols-12 gap-1"},st={class:"col-span-10"},ot={class:"col-span-2 my-auto"},lt={class:"p-2 overflow-auto h-[380px]"},at={class:""},rt=e("small",null," Category name ",-1),nt=["onClick"],it=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-yellow-500"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})],-1),dt=[it],bt={__name:"Product",props:["products","search","categories","category"],setup(U){const b=U,_=m(b.search),f=m(b.category),k=m(!1),V=m(!1),C=m(!1),P=m(!1),u=m({}),$=m(""),B=m(""),w=m([]),o=z({name:"",description:{details:"",specification:{spec_title:"",spec_details:[]}},product_image:"",category:"",sale_discount:"",price:"",text_image:null}),j=z({name:null}),h=z({name:null}),G=()=>{o.post(route("products.store"),{preserveScroll:!0,onSuccess:()=>{o.reset(),alert("Successfully added product"),T(),w.value=[]},onError:n=>{alert("Error adding new product "+n)}})},T=()=>{k.value=!k.value},R=()=>{V.value=!V.value},K=()=>{C.value=!C.value},W=()=>{j.post(route("categories.store"),{preserveScroll:!0,onSuccess:()=>{alert("Successfully added category"),j.reset(),R()},onError:n=>{alert("Error adding new category")}})},I=n=>{P.value=n,h.name=n.name},J=()=>{h.put(route("categories.update",P.value),{preserveScroll:!0,onSuccess:()=>{h.reset()}})},F=()=>{q.get(route("products.index",{search:_.value,category:f.value}))},X=()=>{_.value="",f.value="",q.get(route("products.index",{search:_.value,category:f.value}))},Q=()=>{u.value.spec_name==null||u.value.spec_name==""?$.value="The specification name is required":u.value.spec_details==null||u.value.spec_details==""?B.value="The specification details is required":(B.value="",$.value="",o.description.specification.spec_details.push(u.value),u.value={})},Y=()=>{let n=document.getElementById("post_image");n.click(),n.onchange=s=>{for(let t=0;t<s.target.files.length;t++)w.value.push(window.URL.createObjectURL(s.target.files[t])),o.text_image=s.target.files[t]}},Z=n=>{n.preventDefault();try{if(n.dataTransfer.files.length>1){toast.error("Only 1 image can be selected");return}else for(const t of n.dataTransfer.files){var s=URL.createObjectURL(t);w.value.push(s),o.text_image=t}}catch(t){toast.error(t)}},ee=n=>{w.value.splice(n,1),o.text_image=null},te=n=>{o.description.specification.spec_details.splice(n,1)};return(n,s)=>(i(),oe(re,{title:"Dashboard"},{header:r(()=>[ie]),default:r(()=>[e("div",de,[e("div",ce,[e("div",ue,[e("div",pe,[a(g,{modelValue:_.value,"onUpdate:modelValue":s[0]||(s[0]=t=>_.value=t),class:"rounded-lg mb-2 w-[30vmin]",type:"text",label:"Search product",onKeyup:le(F,["enter"])},null,8,["modelValue","onKeyup"]),E(e("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-auto h-10 mt-5","onUpdate:modelValue":s[1]||(s[1]=t=>f.value=t),onChange:F},[me,(i(!0),d(y,null,M(b.categories,(t,p)=>(i(),d("option",{key:p,value:t.id},S(t.name),9,ge))),128))],544),[[H,f.value]]),f.value||_.value?(i(),d("button",{key:0,class:"h-10 my-auto mt-5",onClick:X},_e)):x("",!0)]),e("div",{class:"grid grid-cols-3 gap-3"},[e("button",{onClick:T,class:"bg-yellow-400 text-sm font-bold mb-2 mt-5 rounded-lg p-2 hover:bg-yellow-500 flex gap-2 item-center justify-center"},he),e("button",{onClick:R,class:"bg-yellow-400 text-sm font-bold mb-2 mt-5 rounded-lg p-2 hover:bg-yellow-500 flex gap-2 item-center justify-center"},ye),e("button",{onClick:K,class:"bg-yellow-400 text-sm font-bold mb-2 mt-5 rounded-lg p-2 hover:bg-yellow-500 flex gap-2 item-center justify-center"},be)])]),e("div",ke,[a(ne,{products:U.products,search:_.value,category:f.value,categories:U.categories},null,8,["products","search","category","categories"])])])]),a(D,{show:k.value,onClose:s[13]||(s[13]=t=>k.value=!1),maxWidth:"2xl"},{title:r(()=>[c(" Add product here!")]),content:r(()=>[e("div",Ve,[e("div",Ce,[a(g,{type:"text",label:"Enter product name",modelValue:l(o).name,"onUpdate:modelValue":s[2]||(s[2]=t=>l(o).name=t)},null,8,["modelValue"]),a(v,{message:l(o).errors.name,class:"mt-2"},null,8,["message"])]),e("div",je,[E(e("textarea",{class:"w-full rounded-lg border-1 border-gray-300 h-[100px] focus:ring-yellow-500 focus:border-yellow-500",placeholder:"Product description","onUpdate:modelValue":s[3]||(s[3]=t=>l(o).description.details=t)},`
            `,512),[[ae,l(o).description.details]])]),e("div",Me,[a(g,{type:"text",label:"Specification title",modelValue:l(o).description.specification.spec_title,"onUpdate:modelValue":s[4]||(s[4]=t=>l(o).description.specification.spec_title=t)},null,8,["modelValue"])]),l(o).description.specification.spec_title!=""?(i(),d("div",Se,[a(g,{type:"text",label:"Specification name",modelValue:u.value.spec_name,"onUpdate:modelValue":s[5]||(s[5]=t=>u.value.spec_name=t)},null,8,["modelValue"]),a(v,{message:$.value,class:"mt-2"},null,8,["message"])])):x("",!0),l(o).description.specification.spec_title!=""?(i(),d("div",Le,[a(g,{type:"text",label:"Specification details",modelValue:u.value.spec_details,"onUpdate:modelValue":s[6]||(s[6]=t=>u.value.spec_details=t)},null,8,["modelValue"]),a(v,{message:B.value,class:"mt-2"},null,8,["message"])])):x("",!0),l(o).description.specification.spec_title!=""?(i(),d("div",Ue,[a(L,{onClick:Q,class:"bg-green-200 hover:bg-green-400"},{default:r(()=>[c(" Add Specification ")]),_:1})])):x("",!0),l(o).description.specification.spec_details.length!=0&&l(o).description.specification.spec_title!=""?(i(),d("div",$e,[e("div",Be,[(i(!0),d(y,null,M(l(o).description.specification.spec_details,(t,p)=>(i(),d(y,{key:p},[e("div",ze,[e("p",null,S(t.spec_details),1),e("span",null,S(t.spec_name),1)]),e("div",Ee,[a(A,{class:"bg-red-400 hover:bg-red-500 hover:text-white",title:"Remove spec",onClick:te},{default:r(()=>[c("x")]),_:1})])],64))),128))])])):x("",!0),e("div",Ae,[a(g,{type:"number",label:"Product price",modelValue:l(o).price,"onUpdate:modelValue":s[7]||(s[7]=t=>l(o).price=t)},null,8,["modelValue"]),a(v,{message:l(o).errors.price,class:"mt-2"},null,8,["message"])]),e("div",De,[a(g,{type:"number",label:"Product discount",modelValue:l(o).sale_discount,"onUpdate:modelValue":s[8]||(s[8]=t=>l(o).sale_discount=t)},null,8,["modelValue"]),a(v,{message:l(o).errors.sale_discount,class:"mt-2"},null,8,["message"])]),e("div",Pe,[E(e("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-full h-10 my-auto mt-5","onUpdate:modelValue":s[9]||(s[9]=t=>l(o).category=t)},[Te,(i(!0),d(y,null,M(b.categories,(t,p)=>(i(),d("option",{key:p,value:t.id},S(t.name),9,Re))),128))],512),[[H,l(o).category]]),a(v,{message:l(o).errors.category,class:"mt-2"},null,8,["message"])]),w.value==0?(i(),d("div",{key:4,class:"col-span-12 flex items-center justify-center w-full mt-4",onDragover:s[10]||(s[10]=N(()=>{},["prevent"])),onDrop:s[11]||(s[11]=N(()=>{},["prevent"]))},[e("label",{onDrop:Z,onClick:Y,for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100"},Ne,32)],32)):x("",!0),e("div",Oe,[(i(!0),d(y,null,M(w.value,(t,p)=>(i(),d("div",{key:p,class:"w-auto mt-2 mx-auto lg:max-w-[20vmin] z-30"},[e("div",qe,[e("img",{class:"w-full max-h-[40vmin] object-cover",src:t},null,8,Ge),e("ul",Ke,[e("li",null,[e("button",{onClick:se=>ee(p),class:"flex text-gray-400 hover:text-gray-600"},Xe,8,We)])])])]))),128))])])]),footer:r(()=>[a(L,{onClick:s[12]||(s[12]=t=>k.value=!1),class:"mr-2 hover:bg-red-500"},{default:r(()=>[c(" nevermind ")]),_:1}),a(A,{class:O([{"opacity-25":l(o).processing},"bg-green-200 hover:bg-green-400"]),disabled:l(o).processing,onClick:G},{default:r(()=>[Qe,c(" Submit ")]),_:1},8,["class","disabled"])]),_:1},8,["show"]),a(D,{show:V.value,onClose:s[16]||(s[16]=t=>V.value=!1),maxWidth:"2xl"},{title:r(()=>[c(" Add category here!")]),content:r(()=>[e("div",Ye,[e("div",Ze,[a(g,{type:"text",label:"Enter product category name",modelValue:l(j).name,"onUpdate:modelValue":s[14]||(s[14]=t=>l(j).name=t)},null,8,["modelValue"]),a(v,{message:l(j).errors.name,class:"mt-2"},null,8,["message"])])])]),footer:r(()=>[a(L,{onClick:s[15]||(s[15]=t=>V.value=!1),class:"mr-2 hover:bg-red-400"},{default:r(()=>[c(" nevermind ")]),_:1}),a(A,{class:O([{"opacity-25":l(o).processing},"bg-green-200 hover:bg-green-400"]),disabled:l(o).processing,onClick:W},{default:r(()=>[et,c(" Submit ")]),_:1},8,["class","disabled"])]),_:1},8,["show"]),a(D,{show:C.value,onClose:s[19]||(s[19]=t=>C.value=!1),maxWidth:"2xl"},{title:r(()=>[c(" Update category here!")]),content:r(()=>[e("div",tt,[e("div",st,[a(g,{type:"text",label:"Enter product category name",disabled:l(h).name==null,modelValue:l(h).name,"onUpdate:modelValue":s[17]||(s[17]=t=>l(h).name=t)},null,8,["disabled","modelValue"]),a(v,{message:l(h).errors.name,class:"mt-2"},null,8,["message"])]),e("div",ot,[a(L,{onClick:J,class:"mr-2 hover:bg-green-300 mt-4"},{default:r(()=>[c(" Save ")]),_:1})])]),e("div",lt,[(i(!0),d(y,null,M(b.categories,(t,p)=>(i(),d("div",{key:p,class:"flex justify-between border-2 border-gray-200 p-2 rounded-lg shadow-sm hover:border-gray-200 mb-1"},[e("div",null,[e("p",at,S(t.name),1),rt]),e("button",{onClick:se=>I(t),class:""},dt,8,nt)]))),128))])]),footer:r(()=>[a(L,{onClick:s[18]||(s[18]=t=>C.value=!1),class:"mr-2 hover:bg-red-300"},{default:r(()=>[c(" Close ")]),_:1})]),_:1},8,["show"])]),_:1}))}};export{bt as default};
