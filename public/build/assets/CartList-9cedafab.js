import{r as m,T as L,q as M,o as _,d as h,F as b,g as P,a as e,f as n,t as l,u as d,b as a,w as r,s as j,k as z,v as D,n as N}from"./app-d10659b1.js";import{_ as O}from"./Icon-720210fc.js";import{_ as k}from"./Button-bd84fc2a.js";import{_ as $}from"./ConfirmationModal-c2f8c89f.js";import{_ as V}from"./SecondaryButton-a6ee9729.js";import G from"./QuantityUpdate-3ab0e063.js";import{l as c}from"./index-824a8249.js";import"./Modal-a896277f.js";const E=j('<div class="block rounded-lg bg-white text-center shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] mt-2"><div class="border-b-2 border-neutral-100 px-6 py-3"><div class="grid grid-cols-12 gap-1 text-sm text-left text-gray-500"><div class="col-span-2 px-1 py-1">Product</div><div class="col-span-2 px-1 py-1">Remarks</div><div class="col-span-2 px-1 py-1">Unit Price</div><div class="col-span-2 px-1 py-1">Quantity</div><div class="col-span-2 px-1 py-1">Total Price</div><div class="col-span-2 px-1 py-1">Actions</div></div></div></div>',1),U={class:"border-b-2 border-neutral-100 px-6 py-3 text-left flex gap-2"},W={class:"my-auto"},Q={class:"p-6"},J={class:"grid grid-cols-12 gap-1 text-sm text-left text-gray-500"},K={class:"col-span-2 flex gap-2 ml-2"},X=["value"],Y=["src","alt"],Z={class:"my-auto text-md font-bold"},ee={class:"col-span-2 px-1 py-1"},te={class:"my-auto text-xs break-words w-10"},se={class:"col-span-2 px-1 py-1"},oe={class:"my-auto"},re={class:"col-span-2 px-1 py-1"},ae={class:"col-span-2 px-1 py-1"},ce={class:"my-auto"},ne={class:"col-span-2 px-1 py-1"},le={class:"my-auto"},de=["onClick"],ie={class:"fixed bg-white border border-gray-200 rounded-md bottom-0 w-full sm:w-[195vmin] md:w[200vmin] lg:w-[185vmin] xl:w-[140vmin] p-2 gap-2 block rounded-lg text-right mt-2"},pe={class:"text-right text-md justify-right"},ue={class:"text-lg font-bold text-red-500"},fe=e("p",{class:"text-red-500"}," This action can update the system and this is not reversible! ",-1),_e=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),he=e("p",{class:"text-red-500"}," This action can update the system and this is not reversible! ",-1),me=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),Te={__name:"CartList",props:["group_suppliers"],setup(H){const p=m(!1),u=m(!1);m(0);const v=m(0),t=L({order:"",selected_product:[]}),x=i=>{const s=new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"});return s.format(i),s.format(i)};M(()=>t.selected_product,i=>{v.value=0,i.forEach(s=>{v.value+=s.price.price*s.quantity})});const R=i=>{t.order=i,p.value=!p.value},q=()=>{t.delete(route("cart.remove",t.order),{preserveScroll:!0,onSuccess:()=>{c.success("Successfully removed",{autoClose:1e3,transition:c.TRANSITIONS.FLIP,position:c.POSITION.TOP_RIGHT}),p.value=!1,t.reset()}})},A=()=>{t.selected_product.length<=0?c.error("Cannot check out if there's no products selected",{autoClose:1e3,transition:c.TRANSITIONS.FLIP,position:c.POSITION.TOP_RIGHT}):u.value=!u.value},F=()=>{t.post(route("deliveries.store"),{preserveScroll:!0,onSuccess:()=>{c.success("Successfully added in deliveries",{autoClose:1e3,transition:c.TRANSITIONS.FLIP,position:c.POSITION.TOP_RIGHT}),u.value=!1,t.reset()}})};return(i,s)=>(_(),h(b,null,[E,(_(!0),h(b,null,P(H.group_suppliers,(f,g)=>(_(),h("div",{key:g,class:"block rounded-lg bg-white text-center shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] mt-2"},[e("div",U,[a(O,{icon:"store",size:"md"}),e("p",W,l(g),1)]),e("div",Q,[e("div",J,[(_(!0),h(b,null,P(f,(o,B)=>{var y,w,C,T,I;return _(),h(b,{key:B},[e("div",K,[z(e("input",{class:"my-auto relative -ml-[1.5rem] mr-[6px] mt-[0.15rem] h-[1.125rem] w-[1.125rem] appearance-none rounded-[0.25rem] border-[0.125rem] border-solid border-neutral-300 outline-none before:pointer-events-none before:absolute before:h-[0.875rem] before:w-[0.875rem] before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent] before:content-[''] checked:border-primary checked:bg-primary checked:before:opacity-[0.16] checked:after:absolute checked:after:-mt-px checked:after:ml-[0.25rem] checked:after:block checked:after:h-[0.8125rem] checked:after:w-[0.375rem] checked:after:rotate-45 checked:after:border-[0.125rem] checked:after:border-l-0 checked:after:border-t-0 checked:after:border-solid checked:after:border-white checked:after:bg-transparent checked:after:content-[''] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:shadow-none focus:transition-[border-color_0.2s] focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-[0.875rem] focus:after:w-[0.875rem] focus:after:rounded-[0.125rem] focus:after:content-[''] checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:after:-mt-px checked:focus:after:ml-[0.25rem] checked:focus:after:h-[0.8125rem] checked:focus:after:w-[0.375rem] checked:focus:after:rotate-45 checked:focus:after:rounded-none checked:focus:after:border-[0.125rem] checked:focus:after:border-l-0 checked:focus:after:border-t-0 checked:focus:after:border-solid checked:focus:after:border-white checked:focus:after:bg-transparent",type:"checkbox",value:o[0],"onUpdate:modelValue":s[0]||(s[0]=S=>d(t).selected_product=S),id:"checkboxChecked"},null,8,X),[[D,d(t).selected_product]]),e("img",{class:"w-24 h-24 object-scale-down",src:(y=o[0].product)==null?void 0:y.product_image,alt:(w=o[0].product)==null?void 0:w.product_image},null,8,Y),e("p",Z,l((C=o[0].product)==null?void 0:C.name),1)]),e("div",ee,[e("span",te,l(o[0].remarks),1)]),e("div",se,[e("span",oe,l(x((T=o[0].price)==null?void 0:T.price)),1)]),e("div",re,[a(G,{order:o[0],quantity:o[0].quantity},null,8,["order","quantity"])]),e("div",ae,[e("span",ce,l(x(((I=o[0].price)==null?void 0:I.price)*o[0].quantity)),1)]),e("div",ne,[e("span",le,[e("a",{onClick:S=>R(o[0]),class:"cursor-pointer"},[a(O,{icon:"trash",size:"sm"})],8,de)])])],64)}),128))])])]))),128)),e("div",ie,[e("p",pe,[n(" Total ("+l(d(t).selected_product.length)+" "+l(d(t).selected_product.length<=1?" item":" items")+"): ",1),e("span",ue,l(x(v.value)),1)]),a(k,{onClick:A,class:"pt-1 pb-1 pl-4 pr-4 hover:bg-green-400 hover:text-white mt-2"},{default:r(()=>[n("Check Out")]),_:1})]),a($,{show:p.value,onClose:s[2]||(s[2]=f=>p.value=!1),maxWidth:"2xl"},{title:r(()=>[n(" Are you sure you want to remove this item?")]),content:r(()=>[fe]),footer:r(()=>[a(V,{onClick:s[1]||(s[1]=f=>p.value=!1),class:"mr-2"},{default:r(()=>[n(" nevermind ")]),_:1}),a(k,{class:N([{"opacity-25":d(t).processing},"bg-green-200 hover:bg-green-400"]),disabled:d(t).processing,onClick:q},{default:r(()=>[_e,n(" Submit ")]),_:1},8,["class","disabled"])]),_:1},8,["show"]),a($,{show:u.value,onClose:s[4]||(s[4]=f=>u.value=!1),maxWidth:"2xl"},{title:r(()=>[n(" Are you sure you want to deliver this item/s?")]),content:r(()=>[he]),footer:r(()=>[a(V,{onClick:s[3]||(s[3]=f=>u.value=!1),class:"mr-2"},{default:r(()=>[n(" nevermind ")]),_:1}),a(k,{class:N([{"opacity-25":d(t).processing},"bg-green-200 hover:bg-green-400"]),disabled:d(t).processing,onClick:F},{default:r(()=>[me,n(" Submit ")]),_:1},8,["class","disabled"])]),_:1},8,["show"])],64))}};export{Te as default};
