import{r as k,T as V,o as i,d,a as e,F as b,g as C,b as a,t as c,w as n,e as y,f as m,n as $,u as l,k as S,x as A,s as D}from"./app-446e3cd7.js";import{a as E,b as M,_ as P,h as T}from"./Icon-cf2cbbb0.js";import{_ as Y}from"./ConfirmationModal-c7ef3d17.js";import{_ as j}from"./SecondaryButton-9cfc8b53.js";import{_ as u}from"./InputError-f8d375e9.js";import{_ as f}from"./Input-6be026a1.js";import{_ as F}from"./DialogModal-b191a85c.js";import"./Modal-5c83d8a0.js";const q={class:"text-gray-600 bg-white rounded-lg py-5 px-3 mb-5"},I={class:"container mx-auto"},W={class:"flex flex-wrap -m-4"},O={key:0,class:"mx-auto"},G=e("h1",{class:"text-4xl font-bold mt-6"},"No products found!",-1),J=[G],K={class:"h-full border-2 border-gray-100 shadow-md rounded-lg overflow-hidden group"},Q={class:"relative"},R=["src","alt"],X=["alt"],Z={class:"absolute hidden group-hover:block top-0 right-0 text-white p-2 rounded"},ee=["onClick"],te=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),se=[te],oe=["onClick"],le=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),ae=[le],re={class:"flex justify-between -mt-5 relative"},ne={class:"tracking-widest text-sm title-font font-bold bg-yellow-500 bg-white rounded-lg p-1"},ie={class:"tracking-widest text-sm title-font font-bold bg-red-500 rounded-lg p-1"},de={class:"text-white"},ce={class:"p-4"},me={class:"title-font text-lg capitalize font-bold text-gray-900 -mt-2"},ue={key:0,class:"italic text-xs text-red-500"},_e={class:"tracking-widest text-lg title-font font-bold text-gray-500 mb-2"},ge={class:"leading-relaxed text-xs flex gap-2 mb-2"},pe=["src","alt"],he={class:"flex"},fe=["title"],ve={class:"ml-1"},we=["title"],xe={class:"ml-1"},be={class:"flex items-center justify-between"},ye={class:"mt-6 text-sm text-gray-500"},ke=e("p",{class:"text-red-500"}," This action can update the system and this is not reversible! ",-1),Ve=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),Ce={class:"grid grid-cols-12 gap-1"},$e={class:"col-span-12"},Se={class:"col-span-12"},Me={class:"col-span-12"},Pe={class:"col-span-6"},je={class:"col-span-6"},Le={class:"col-span-12"},Be=e("option",{selected:"",value:""},"Choose a category",-1),He=["value"],Ue={class:"col-span-12"},Ne=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),Ie={__name:"ProductList",props:["products","search","category","categories"],setup(h){const w=h,_=k(!1),g=k(!1),p=V({product:!1}),s=V({product:!1,name:"",description:{},product_image:"",category:"",sale_discount:"",price:""}),L=r=>{p.product=r,_.value=!_.value},B=r=>{s.product=r,s.name=r.name,s.description=r.description,s.remarks=r.remarks,s.category=r.category_id,s.sale_discount=r.current_discount.discount,s.price=r.current_price.price,g.value=!g.value},H=()=>{p.put(route("products.remove",p.product),{preserveScroll:!0,onSuccess:()=>{alert("Product removed"),_.value=!1,p.reset()},onError:r=>{alert("Something went wrong "+r)}})},U=()=>{s.post(route("products.update",s.product),{preserveScroll:!0,onSuccess:()=>{alert("Product update"),g.value=!1,s.reset()},onError:r=>{alert("Something went wrong "+r)}})},N=r=>{const o=new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"});return o.format(r),o.format(r)},v=r=>T(r).format("MM/DD/YYYY, h:mm:ss a");return(r,o)=>(i(),d(b,null,[e("div",null,[e("section",q,[e("div",I,[e("div",W,[h.products.data.length<=0?(i(),d("div",O,J)):(i(!0),d(b,{key:1},C(h.products.data,(t,x)=>(i(),d("div",{class:"p-4 md:w-1/4",key:x},[e("div",K,[e("div",Q,[t.product_image?(i(),d("img",{key:0,class:"lg:h-36 md:h-36 w-full object-scale-down object-center bg-gray-100",src:t.product_image,alt:t.name},null,8,R)):y("",!0),t.product_image?y("",!0):(i(),d("img",{key:1,class:"lg:h-36 md:h-36 w-full object-scale-down object-center bg-gray-100",src:"https://dummyimage.com/720x400",alt:t.name},null,8,X)),e("div",Z,[e("button",{onClick:z=>B(t),class:"p-2 bg-yellow-400 rounded-lg hover:bg-yellow-600 mr-2 w-auto"},se,8,ee),e("button",{onClick:z=>L(t),class:"p-2 bg-red-400 rounded-lg hover:bg-red-600 w-auto mt-2"},ae,8,oe)])]),e("div",re,[e("h2",ne," Stocks: "+c(t.quantity),1),e("h2",ie,[e("span",de,"Discount: "+c(t.current_discount.discount)+"%",1)])]),e("div",ce,[e("h1",me,[m(c(t.name)+" ",1),t.quantity==0?(i(),d("span",ue,"- (Out of stocks)")):y("",!0)]),e("h2",_e,c(N(t.current_price.price)),1),e("p",ge,[e("img",{class:"w-6 h-6 rounded-full",src:t.user.profile_photo_url,alt:t.user.name},null,8,pe),m(" "+c(t.user.name),1)]),e("div",he,[e("p",{class:"flex leading-relaxed text-xs break-words",title:v(t.updated_at)},[a(M,{class:"mr-1",icon:"calendar_minus",size:"xs"}),e("time",ve,c(v(t.updated_at)),1)],8,fe),e("p",{class:"flex leading-relaxed mb-3 text-xs break-words",title:v(t.created_at)},[a(M,{class:"mr-1",icon:"calendar_plus",size:"xs"}),e("time",xe,c(v(t.created_at)),1)],8,we)])])])]))),128))]),e("div",be,[a(E,{links:w.products.links,search:w.search,category:h.category},null,8,["links","search","category"]),e("p",ye," Showing "+c(h.products.data.length)+" Products ",1)])])])]),a(Y,{show:_.value,onClose:o[1]||(o[1]=t=>_.value=!1),maxWidth:"2xl"},{title:n(()=>[m(" Are you sure you want to remove this product?")]),content:n(()=>[ke]),footer:n(()=>[a(j,{onClick:o[0]||(o[0]=t=>_.value=!1),class:"mr-2"},{default:n(()=>[m(" nevermind ")]),_:1}),a(P,{class:$([{"opacity-25":l(p).processing},"bg-green-200 hover:bg-green-400"]),disabled:l(p).processing,onClick:H},{default:n(()=>[Ve,m(" Submit ")]),_:1},8,["class","disabled"])]),_:1},8,["show"]),a(F,{show:g.value,onClose:o[10]||(o[10]=t=>g.value=!1),maxWidth:"2xl"},{title:n(()=>[m(" Are you sure you want to update this product?")]),content:n(()=>[e("div",Ce,[e("div",$e,[a(f,{type:"text",label:"Enter product name",modelValue:l(s).name,"onUpdate:modelValue":o[2]||(o[2]=t=>l(s).name=t)},null,8,["modelValue"]),a(u,{message:l(s).errors.name,class:"mt-2"},null,8,["message"])]),e("div",Se,[S(e("textarea",{class:"w-full rounded-lg border-1 border-gray-300 h-[100px] focus:ring-yellow-500 focus:border-yellow-500",placeholder:"Product description","onUpdate:modelValue":o[3]||(o[3]=t=>l(s).description=t)},`
          `,512),[[A,l(s).description]]),a(u,{message:l(s).errors.description,class:"mt-2"},null,8,["message"])]),e("div",Me,[a(f,{type:"text",label:"Product remarks",modelValue:l(s).remarks,"onUpdate:modelValue":o[4]||(o[4]=t=>l(s).remarks=t)},null,8,["modelValue"]),a(u,{message:l(s).errors.remarks,class:"mt-2"},null,8,["message"])]),e("div",Pe,[a(f,{type:"number",label:"Product price",modelValue:l(s).price,"onUpdate:modelValue":o[5]||(o[5]=t=>l(s).price=t)},null,8,["modelValue"]),a(u,{message:l(s).errors.price,class:"mt-2"},null,8,["message"])]),e("div",je,[a(f,{type:"number",label:"Product discount",modelValue:l(s).sale_discount,"onUpdate:modelValue":o[6]||(o[6]=t=>l(s).sale_discount=t)},null,8,["modelValue"]),a(u,{message:l(s).errors.sale_discount,class:"mt-2"},null,8,["message"])]),e("div",Le,[S(e("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-full h-10 my-auto mt-5","onUpdate:modelValue":o[7]||(o[7]=t=>l(s).category=t)},[Be,(i(!0),d(b,null,C(w.categories,(t,x)=>(i(),d("option",{key:x,value:t.id},c(t.name),9,He))),128))],512),[[D,l(s).category]]),a(u,{message:l(s).errors.category,class:"mt-2"},null,8,["message"])]),e("div",Ue,[a(f,{type:"text",label:"Image",modelValue:l(s).product_image,"onUpdate:modelValue":o[8]||(o[8]=t=>l(s).product_image=t)},null,8,["modelValue"]),a(u,{message:l(s).errors.product_image,class:"mt-2"},null,8,["message"])])])]),footer:n(()=>[a(j,{onClick:o[9]||(o[9]=t=>g.value=!1),class:"mr-2"},{default:n(()=>[m(" nevermind ")]),_:1}),a(P,{class:$([{"opacity-25":l(s).processing},"bg-green-200 hover:bg-green-400"]),disabled:l(s).processing,onClick:U},{default:n(()=>[Ne,m(" Submit ")]),_:1},8,["class","disabled"])]),_:1},8,["show"])],64))}};export{Ie as default};
