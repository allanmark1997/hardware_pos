import{r as h,T as E,y as W,o as i,d,a as t,F as C,g as T,b as r,t as c,w as u,e as v,f as p,u as l,n as $,k as J,z as Q}from"./app-d10659b1.js";import{_ as K,h as M}from"./moment-4a49c77f.js";import{_ as j}from"./ConfirmationModal-c2f8c89f.js";import{_ as V}from"./SecondaryButton-a6ee9729.js";import{_ as R}from"./Button-bd84fc2a.js";import{_ as O}from"./InputError-13de28d5.js";import{_ as b}from"./Input-1a176ae9.js";import{_ as H}from"./DialogModal-3d03d8b2.js";import{_ as m}from"./Icon-720210fc.js";import{l as n}from"./index-824a8249.js";import"./Modal-a896277f.js";const X={class:"text-gray-600 bg-white rounded-lg py-5 px-3 mb-5"},Z={class:"container mx-auto"},ee={class:"flex flex-wrap -m-4"},se={key:0,class:"mx-auto"},te=t("h1",{class:"text-4xl font-bold mt-6"},"No products found!",-1),oe=[te],le={class:"h-full border-2 border-gray-100 shadow-md rounded-lg overflow-hidden group"},re={class:"relative"},ae=["src","alt"],ne=["alt"],ie={class:"absolute hidden group-hover:block top-0 right-0 text-white p-2 rounded"},de=["onClick"],ue=["onClick"],ce=["onClick"],pe=["onClick"],me=t("div",{class:"flex justify-between -mt-5 relative"},null,-1),_e={class:"p-4"},ge={class:"title-font text-lg capitalize font-bold text-gray-900 mt-2"},ve={key:0,class:"italic text-xs text-red-500"},fe={class:"tracking-widest text-lg title-font font-bold text-gray-500"},he={class:"flex gap-2"},be={class:"leading-relaxed text-xs flex gap-2 mb-2"},ye=["src","alt"],xe={class:"leading-relaxed text-xs flex gap-2 mb-2"},we=["src","alt"],ke={class:"gap-1"},Ie=["title"],Ce={class:"ml-1"},Pe=["title"],Se={class:"ml-1"},Te={class:"flex items-center justify-between"},Oe={class:"mt-6 text-sm text-gray-500"},Ve=t("p",{class:"text-red-500"}," This action can update the system and this is not reversible! ",-1),Ne=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),$e=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),Re={class:"grid grid-cols-5"},ze={id:"imageContent",class:"border-r border-yellow-500 col-span-2 p-2"},Le=["src"],Me={class:"text-gray-900 font-bold uppercase text-yellow-700 mt-5 mb-1"},je={class:"font-bold"},He={id:"textContent",class:"col-span-3 p-2"},Ue=t("span",{class:"font-bold mb-5 uppercase text-yellow-700"},[p(" Details:"),t("br")],-1),Fe={class:"text-gray-900 overflow-auto max-h-80"},Ge={class:"grid grid-cols-12 gap-1"},De={class:"col-span-6"},Ae={class:"col-span-5"},Be={key:0,class:"absolute z-50 w-60 bg-white rounded shadow"},qe={class:"overflow-y-auto py-1 h-[20vmin] text-gray-700","aria-labelledby":"dropdownUsersButton"},Ye=["onClick"],Ee=["src"],We=t("div",{class:"flex justify-center"},[t("small",null,"Results")],-1),Je={class:"col-span-1 my-auto flex"},Qe={class:"col-span-6"},Ke={class:"col-span-5"},Xe={key:0,class:"absolute z-50 w-60 bg-white rounded shadow"},Ze={class:"overflow-y-auto py-1 h-[20vmin] text-gray-700","aria-labelledby":"dropdownUsersButton"},es=["onClick"],ss=["src"],ts=t("div",{class:"flex justify-center"},[t("small",null,"Results")],-1),os={class:"col-span-1 my-auto flex"},ls={class:"col-span-full"},rs={class:"col-span-12"},as=t("option",{selected:"",value:""},"Choose a category",-1),ns=["value"],is=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),ys={__name:"ProductList",props:["products","search","category","categories","product_lists","suppliers"],setup(f){const N=f,y=h(!1),x=h(!1),P=h(!1),w=h(!1),k=h(!1),I=h(!1),_=h({ProdTitle:"",ProdSpec:"",ProdDetail:"",ProdIMG:""}),s=E({product:!1,product_id:"",product_name:"",supplier_id:"",supplier_name:"",category:"",price:"",quantity:"",remarks:""}),U=a=>{s.reset(),s.product=a,x.value=!x.value},F=a=>{s.product=a,s.product_id=a.product.id,s.product_name=a.product.name,s.supplier_id=a.supplier_id,s.supplier_name=a.supplier.supplier_name,s.category=a.supplier_category_id,s.price=a.price.price,w.value=!w.value},G=()=>{s.product_id==0||s.product_id==""||s.product_id==null?n.error("Looks like there's no product selected, please select first",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}):s.supplier_id==0||s.supplier_id==""||s.supplier_id==null?n.error("Looks like there's no supplier selected, please select first",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}):s.put(route("supplier_products.update",{product:s.product}),{preserveScroll:!0,onSuccess:()=>{n.success("Product successfully amended!",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}),w.value=!1,s.reset()},onError:a=>{n.error("Something went wrong "+a,{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT})}})},D=(a,o,e,g)=>{P.value=!P.value,_.value.ProdTitle=o,_.value.ProdDetail=a,_.value.ProdSpec=e,_.value.ProdIMG=g},A=a=>{s.product=a,y.value=!y.value},B=()=>{s.post(route("supplier_products.remove",s.product),{preserveScroll:!0,onSuccess:()=>{n.success("Product successfully removed!",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}),y.value=!1,s.reset()},onError:a=>{n.error("Something went wrong "+a,{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT})}})},q=()=>{s.post(route("cart.order",s.product),{preserveScroll:!0,onSuccess:()=>{n.success("Product successfully ordered!",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}),x.value=!1,s.reset()},onError:a=>{n.error("Something went wrong "+a,{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT})}})},Y=a=>{const o=new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"});return o.format(a),o.format(a)},z=a=>M(a).format("MM/DD/YYYY, h:mm:ss a"),L=a=>M(a).fromNow();return W(()=>{JsBarcode(".barcode").init()}),(a,o)=>(i(),d(C,null,[t("div",null,[t("section",X,[t("div",Z,[t("div",ee,[f.products.data.length<=0?(i(),d("div",se,oe)):(i(!0),d(C,{key:1},T(f.products.data,(e,g)=>(i(),d("div",{class:"p-4 md:w-1/4",key:g},[t("div",le,[t("div",re,[e.product.product_image?(i(),d("img",{key:0,class:"lg:h-36 md:h-36 w-full object-scale-down object-center bg-gray-100",src:e.product.product_image,alt:e.product.name},null,8,ae)):v("",!0),e.product.product_image?v("",!0):(i(),d("img",{key:1,class:"lg:h-36 md:h-36 w-full object-scale-down object-center bg-gray-100",src:"https://dummyimage.com/720x400",alt:e.product.name},null,8,ne)),t("div",ie,[t("button",{onClick:S=>U(e),class:"p-2 bg-orange-400 rounded-lg hover:bg-orange-600 w-auto mt-2 mr-2",title:"Send to order list"},[r(m,{icon:"shopping_bag",size:"sm"})],8,de),t("button",{onClick:S=>D(e.product.description.details,e.product.name,e.product.description.specification,e.product.product_image),class:"p-2 bg-gray-400 rounded-lg hover:bg-gray-600 mr-2 w-auto"},[r(m,{icon:"docs"})],8,ue),t("button",{onClick:S=>F(e),class:"p-2 bg-orange-400 rounded-lg hover:bg-orange-600 w-auto mt-2 mr-2",title:"Update product"},[r(m,{icon:"pencil",size:"sm"})],8,ce),t("button",{onClick:S=>A(e),class:"p-2 bg-red-400 rounded-lg hover:bg-red-600 w-auto mt-2"},[r(m,{icon:"trash",size:"sm"})],8,pe)])]),me,t("div",_e,[t("h1",ge,[p(c(e.product.name)+" ",1),e.product.quantity==0?(i(),d("span",ve,"- (Out of stocks)")):v("",!0)]),t("h2",fe,c(Y(e.price.price)),1),t("div",he,[r(m,{icon:"store",size:"md"}),t("p",be,[t("img",{class:"w-10 h-10 rounded-full",src:e.supplier.image,alt:e.supplier.supplier_name},null,8,ye),p(" "+c(e.supplier.supplier_name),1)])]),t("p",xe,[r(m,{icon:"administrator",size:"md"}),t("img",{class:"w-8 h-8 rounded-full",src:e.product.user.profile_photo_url,alt:e.product.user.name},null,8,we),p(" "+c(e.product.user.name),1)]),t("div",ke,[t("p",{class:"flex leading-relaxed text-xs break-words",title:L(e.updated_at)},[r(m,{class:"mr-1",icon:"clock",size:"sm"}),t("time",Ce,c(L(e.updated_at)),1)],8,Ie),t("p",{class:"flex leading-relaxed mt-2 mb-1 text-xs break-words",title:z(e.created_at)},[r(m,{class:"mr-1",icon:"calendar_plus",size:"xs"}),t("time",Se,c(z(e.created_at)),1)],8,Pe)])])])]))),128))]),t("div",Te,[r(K,{links:N.products.links,search:N.search,category:f.category},null,8,["links","search","category"]),t("p",Oe," Showing "+c(f.products.data.length)+" Products ",1)])])])]),r(j,{show:y.value,onClose:o[1]||(o[1]=e=>y.value=!1),maxWidth:"2xl"},{title:u(()=>[p(" Are you sure you want to remove this product("+c(l(s).product.product.name)+")?",1)]),content:u(()=>[Ve]),footer:u(()=>[r(V,{onClick:o[0]||(o[0]=e=>y.value=!1),class:"mr-2"},{default:u(()=>[p(" nevermind ")]),_:1}),r(R,{class:$([{"opacity-25":l(s).processing},"bg-green-200 hover:bg-green-400"]),disabled:l(s).processing,onClick:B},{default:u(()=>[Ne,p(" Submit ")]),_:1},8,["class","disabled"])]),_:1},8,["show"]),r(j,{show:x.value,onClose:o[5]||(o[5]=e=>x.value=!1),maxWidth:"2xl"},{title:u(()=>[p(" You are about to order ("+c(l(s).product.product.name)+") to your supplier ("+c(l(s).product.supplier.supplier_name)+"). Please input your desired quantity.",1)]),content:u(()=>[r(b,{type:"number",label:"Product Quantity",modelValue:l(s).quantity,"onUpdate:modelValue":o[2]||(o[2]=e=>l(s).quantity=e)},null,8,["modelValue"]),r(O,{message:l(s).errors.quantity,class:"mt-2"},null,8,["message"]),r(b,{type:"text",label:"Remarks",modelValue:l(s).remarks,"onUpdate:modelValue":o[3]||(o[3]=e=>l(s).remarks=e)},null,8,["modelValue"])]),footer:u(()=>[r(V,{onClick:o[4]||(o[4]=e=>x.value=!1),class:"mr-2"},{default:u(()=>[p(" nevermind ")]),_:1}),r(R,{class:$([{"opacity-25":l(s).processing},"bg-green-200 hover:bg-green-400"]),disabled:l(s).processing,onClick:q},{default:u(()=>[$e,p(" Submit ")]),_:1},8,["class","disabled"])]),_:1},8,["show"]),r(H,{show:P.value,onClose:o[7]||(o[7]=e=>P.value=!1),maxWidth:"2xl"},{title:u(()=>[p(c(_.value.ProdTitle),1)]),content:u(()=>[t("div",Re,[t("div",ze,[t("img",{class:"rounded-lg max-w-sx",src:_.value.ProdIMG},null,8,Le),t("p",Me,c(_.value.ProdSpec.spec_title)+": ",1),(i(!0),d(C,null,T(_.value.ProdSpec.spec_details,e=>(i(),d("div",null,[t("span",je,c(e.spec_name)+": ",1),t("span",null,c(e.spec_details),1)]))),256))]),t("div",He,[Ue,t("p",Fe,c(_.value.ProdDetail),1)])])]),footer:u(()=>[r(V,{onClick:o[6]||(o[6]=e=>P.value=!1),class:"mr-2"},{default:u(()=>[p(" close ")]),_:1})]),_:1},8,["show"]),r(H,{show:w.value,onClose:o[21]||(o[21]=e=>w.value=!1),maxWidth:"2xl"},{title:u(()=>[p(" Update product here!")]),content:u(()=>[t("div",Ge,[t("div",De,[r(b,{type:"text",label:"Product name view",modelValue:l(s).product_name,"onUpdate:modelValue":o[8]||(o[8]=e=>l(s).product_name=e),disabled:""},null,8,["modelValue"]),r(O,{message:l(s).errors.product_id,class:"mt-2"},null,8,["message"])]),t("div",Ae,[r(b,{disabled:k.value!=!0,type:"text",label:"Search product name",modelValue:l(s).product_name,"onUpdate:modelValue":o[9]||(o[9]=e=>l(s).product_name=e)},null,8,["disabled","modelValue"]),k.value==!0?(i(),d("div",Be,[t("ul",qe,[(i(!0),d(C,null,T(f.product_lists,(e,g)=>(i(),d("li",{key:g},[e.name.toLowerCase().includes(l(s).product_name.toLowerCase())?(i(),d("a",{key:0,class:"flex items-center py-2 px-4 hover:bg-gray-100 cursor-pointer",onClick:S=>(l(s).product_name=e.name,l(s).product_id=e.id,k.value=!1)},[t("img",{class:"mr-2 w-6 h-6 rounded-full",src:e.product_image},null,8,Ee),p(" "+c(e.name),1)],8,Ye)):v("",!0)]))),128))]),We,t("a",{onClick:o[10]||(o[10]=e=>(k.value=!1,l(s).product_name="",l(s).product_id=!1)),class:"flex items-center p-3 text-sm font-medium text-blue-600 bg-gray-50 border-t border-gray-200 hover:bg-gray-100 hover:underline"}," clear search ")])):v("",!0)]),t("div",Je,[l(s).product_id?(i(),d("button",{key:0,class:"h-10 my-auto mt-5",onClick:o[11]||(o[11]=e=>(k.value=!1,l(s).product_name="",l(s).product_id=!1))},[r(m,{icon:"close_icon",size:"sm"})])):v("",!0),t("button",{onClick:o[12]||(o[12]=e=>k.value=!0),class:"bg-yellow-400 text-sm lg:text-xs font-bold rounded-lg p-2 hover:bg-yellow-500 flex gap-2 item-center justify-center mt-4"},[r(m,{icon:"search_icon",size:"sm"})])]),t("div",Qe,[r(b,{type:"text",label:"Supplier name view",modelValue:l(s).supplier_name,"onUpdate:modelValue":o[13]||(o[13]=e=>l(s).supplier_name=e),disabled:""},null,8,["modelValue"]),r(O,{message:l(s).errors.supplier_id,class:"mt-2"},null,8,["message"])]),t("div",Ke,[r(b,{disabled:I.value!=!0,type:"text",label:"Search supplier's name",modelValue:l(s).supplier_name,"onUpdate:modelValue":o[14]||(o[14]=e=>l(s).supplier_name=e)},null,8,["disabled","modelValue"]),I.value==!0?(i(),d("div",Xe,[t("ul",Ze,[(i(!0),d(C,null,T(f.suppliers,(e,g)=>(i(),d("li",{key:g},[e.supplier_name.toLowerCase().includes(l(s).supplier_name.toLowerCase())?(i(),d("a",{key:0,class:"flex items-center py-2 px-4 hover:bg-gray-100 cursor-pointer",onClick:S=>(l(s).supplier_name=e.supplier_name,l(s).supplier_id=e.id,I.value=!1)},[t("img",{class:"mr-2 w-6 h-6 rounded-full",src:e.image},null,8,ss),p(" "+c(e.supplier_name),1)],8,es)):v("",!0)]))),128))]),ts,t("a",{onClick:o[15]||(o[15]=e=>(I.value=!1,l(s).supplier_name="",l(s).supplier_id=!1)),class:"flex items-center p-3 text-sm font-medium text-blue-600 bg-gray-50 border-t border-gray-200 hover:bg-gray-100 hover:underline"}," clear search ")])):v("",!0)]),t("div",os,[l(s).supplier_id?(i(),d("button",{key:0,class:"h-10 my-auto mt-5",onClick:o[16]||(o[16]=e=>(I.value=!1,l(s).supplier_name="",l(s).supplier_id=!1))},[r(m,{icon:"close_icon",size:"sm"})])):v("",!0),t("button",{onClick:o[17]||(o[17]=e=>I.value=!0),class:"bg-yellow-400 text-sm lg:text-xs font-bold rounded-lg p-2 hover:bg-yellow-500 flex gap-2 item-center justify-center mt-4"},[r(m,{icon:"search_icon",size:"sm"})])]),t("div",ls,[r(b,{type:"number",label:"Product price",modelValue:l(s).price,"onUpdate:modelValue":o[18]||(o[18]=e=>l(s).price=e)},null,8,["modelValue"]),r(O,{message:l(s).errors.price,class:"mt-2"},null,8,["message"])]),t("div",rs,[J(t("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-full h-10 my-auto mt-5","onUpdate:modelValue":o[19]||(o[19]=e=>l(s).category=e)},[as,(i(!0),d(C,null,T(N.categories,(e,g)=>(i(),d("option",{key:g,value:e.id},c(e.name),9,ns))),128))],512),[[Q,l(s).category]]),r(O,{message:l(s).errors.category,class:"mt-2"},null,8,["message"])])])]),footer:u(()=>[r(V,{onClick:o[20]||(o[20]=e=>(w.value=!1,l(s).reset())),class:"mr-2 hover:bg-red-500"},{default:u(()=>[p(" nevermind ")]),_:1}),r(R,{class:$([{"opacity-25":l(s).processing},"bg-green-200 hover:bg-green-400"]),disabled:l(s).processing,onClick:G},{default:u(()=>[is,p(" Submit ")]),_:1},8,["class","disabled"])]),_:1},8,["show"])],64))}};export{ys as default};
