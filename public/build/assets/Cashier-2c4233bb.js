import{j as ie,o as p,d as m,k as D,v as de,a as e,m as ce,r as c,z as J,y as V,F as R,g as K,f as h,t as l,e as j,x as X,T as ue,O as f,s as Y,A as pe,b as x,u as r,w as k,Z as me,i as he,q as fe,n as B,K as _e}from"./app-7f390f71.js";import{_ as z}from"./Icon-9324afd6.js";import{_ as W}from"./ConfirmationModal-d56c1901.js";import{_ as ve}from"./DialogModal-21357645.js";import{_ as q}from"./SecondaryButton-f7ef1962.js";import{_ as Z}from"./Input-51ffcca1.js";import{_ as U}from"./Button-cb921c29.js";import ge from"./Barcode-e620f7c4.js";import{h as Q}from"./moment-fbc5633a.js";import{l as n}from"./index-6dabe31e.js";import"./Modal-2fca8c58.js";import"./BarcodeSVG-722defef.js";const xe={class:"inline-flex relative items-center mb-2 cursor-pointer"},ye=["value"],be=e("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"},null,-1),we={class:"ml-2 text-sm font-medium text-gray-900"},Ce={__name:"Switch",props:{checked:{type:[Array,Boolean],default:!1},value:{type:String,default:null}},emits:["update:checked"],setup(_,{emit:y}){const S=_,u=ie({get(){return S.checked},set(b){y("update:checked",b)}});return(b,g)=>(p(),m("label",xe,[D(e("input",{type:"checkbox",class:"sr-only peer",value:_.value,"onUpdate:modelValue":g[0]||(g[0]=d=>u.value=d)},null,8,ye),[[de,u.value]]),be,e("span",we,[ce(b.$slots,"default")])]))}},ke={key:0,id:"defaultModal",tabindex:"-1","aria-hidden":"true",class:"fixed top-0 left-0 right-0 backdrop-blur-sm z-50 pt-52 flex justify-center item-center w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full"},Te={class:"relative w-full max-w-3xl max-h-full"},Ie={class:"relative bg-white rounded-lg shadow"},Pe=e("div",{class:"flex items-start justify-between p-4 border-b rounded-t"},[e("h3",{class:"text-xl font-semibold text-gray-900"}," Look Up ")],-1),Se={class:"p-6 space-y-6"},Oe={class:"max-h-md"},Ne={key:0,role:"status",class:"space-y-8 animate-pulse md:space-y-0 md:space-x-8 md:flex md:items-center"},Ae=X('<div class="flex items-center justify-center w-full h-48 bg-gray-300 rounded sm:w-96"><svg class="w-10 h-10 text-gray-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18"><path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"></path></svg></div><div class="w-full"><div class="h-2.5 bg-gray-200 rounded-full w-48 mb-4"></div><div class="h-2 bg-gray-200 rounded-full max-w-[480px] mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full max-w-[440px] mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full max-w-[460px] mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full max-w-[360px]"></div></div><span class="sr-only">Loading...</span>',3),$e=[Ae],Re={key:1,role:"status",class:"space-y-1 md:space-y-0 md:space-x-1 md:flex md:items-center"},Le=["onClick"],De=["src"],Ke=e("br",null,null,-1),je={class:"flex items-center p-6 space-x-2 border-t border-gray-200 rounded-b"},Fe={key:0,role:"status",class:"space-y-8 animate-pulse md:space-y-0 md:space-x-8 md:flex md:items-center"},Me=X('<div class="flex items-center justify-center w-full h-48 bg-gray-300 rounded sm:w-96"><svg class="w-10 h-10 text-gray-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18"><path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"></path></svg></div><div class="w-full"><div class="h-2.5 bg-gray-200 rounded-full w-48 mb-4"></div><div class="h-2 bg-gray-200 rounded-full max-w-[480px] mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full max-w-[440px] mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full max-w-[460px] mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full max-w-[360px]"></div></div><span class="sr-only">Loading...</span>',3),Ve=[Me],He={key:1,class:"flex flex-col justify-center"},Be={class:"relative flex flex-col md:flex-row md:space-x-5 space-y-3 md:space-y-0 rounded-xl shadow-lg p-3 max-w-xs md:max-w-3xl mx-auto border border-white bg-white"},ze={class:"w-full md:w-1/3 bg-white grid place-items-center"},qe=["src"],Ue={class:"w-full md:w-2/3 bg-white flex flex-col space-y-2 p-3"},Ge={class:"flex justify-between item-center"},Ee={class:"text-gray-500 font-medium hidden md:block"},Ye={class:"flex gap-1"},We={class:"bg-red-500 px-3 py-1 rounded-full text-xs font-medium text-white"},Ze={class:"font-black text-gray-800 md:text-3xl text-xl"},Qe={class:"md:text-lg text-gray-500 text-base"},Je=e("p",{class:"md:text-lg text-gray-500 text-base"},[e("strong",null,"Details:")],-1),Xe={class:"md:text-lg text-gray-500 text-base"},et={class:"md:text-lg text-orange-800 text-base"},tt={class:"text-xl flex justify-end font-black text-gray-800"},st={__name:"SKU",props:["SKULookup","products"],setup(_){const y=_,S=c("");c([{name:"AF1",imgSrc:"https://th.bing.com/th/id/OIP.gskj3fuAc3TMy9_NLV4-swHaJ4?pid=ImgDet&rs=1",price:2e3},{name:"kobe IV",imgSrc:"https://th.bing.com/th/id/R.c0b464ee5bf466b0774fd958cd49d671?rik=4BKsxct35mNq%2fg&riu=http%3a%2f%2fcontents.spin.ph%2fimage%2fresize%2fimage%2f2019%2f02%2f23%2fnike-kobe-iv-protro-1550916244.webp&ehk=HWW%2b6sYFBuz%2fZMO%2b2yAwK5n%2fujbgm5fG%2fEBuFgcVPyU%3d&risl=&pid=ImgRaw&r=0",price:3e3},{name:"SB freedy",imgSrc:"https://th.bing.com/th/id/OIP.PpVn4AnJf178qD-1dZGs5AHaEc?pid=ImgDet&rs=1",price:2300},{name:"J1 blacktoe",imgSrc:"https://sneakernews.com/wp-content/uploads/2019/02/air-jordan-1-low-black-toe-553558-116-2.jpg",price:2023}]);const u=c({name:"",imgSrc:"",price:null}),b=g=>{u.value=g,console.log(u.value)};return J(()=>{u.value=""}),(g,d)=>y.SKULookup?(p(),m("div",ke,[e("div",Te,[e("div",Ie,[Pe,e("div",Se,[D(e("input",{type:"text","onUpdate:modelValue":d[0]||(d[0]=T=>S.value=T),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"SKU Lookup"},null,512),[[V,S.value]]),e("div",Oe,[S.value?(p(),m("div",Re,[(p(!0),m(R,null,K(y.products,T=>(p(),m("div",null,[T.name.toLocaleLowerCase().includes(S.value.toLocaleLowerCase())?(p(),m("button",{key:0,type:"button",onClick:P=>b(T),class:"inline-flex items-center px-1 py-1 text-sm font-medium text-center text-white bg-orange-700 rounded-lg hover:bg-orange-800 focus:ring-4 focus:outline-none focus:ring-orange-300 overflow-hidden"},[e("img",{src:T.product_image,class:"max-w-2xl w-10 rounded-lg mr-2 object-contain max-h-auto h-10"},null,8,De),h(" "+l(T.name),1),Ke,h("₱ "+l(T.current_price.price),1)],8,Le)):j("",!0)]))),256))])):(p(),m("div",Ne,$e))])]),e("div",je,[u.value.name?(p(),m("div",He,[e("div",Be,[e("div",ze,[e("img",{src:u.value.product_image,alt:"tailwind logo",class:"rounded-xl"},null,8,qe)]),e("div",Ue,[e("div",Ge,[e("p",Ee,"Stocks: "+l(u.value.quantity),1),e("div",Ye,[e("div",We,l(u.value.current_discount.discount)+"% Discount",1)])]),e("h3",Ze,l(u.value.name),1),e("p",Qe,[e("strong",null,"Barcode:"+l(u.value.barcode),1)]),Je,e("p",Xe,l(u.value.description.details),1),e("p",et,[e("strong",null,l(u.value.description.specification.spec_title),1)]),(p(!0),m(R,null,K(u.value.description.specification.spec_details,T=>(p(),m("p",null,[e("strong",null,l(T.spec_name)+": ",1),h(" "+l(T.spec_details),1)]))),256)),e("div",tt," ₱ "+l(u.value.current_price.price),1)])])])):(p(),m("div",Fe,Ve))])])])])):j("",!0)}};const ot={class:"py-5"},lt={class:"fixed m-[50%] z-[-1000]"},at={class:"flex max-w-7xl mx-auto justify-end"},nt={class:"sm:fixed sm:top-0 sm:left-0 p-6 text-right z-10"},rt={class:"flex max-w-7xl mx-auto justify-end mt-6"},it={class:"px-2 py-1.5 text-2xl font-semibold text-white bg-yellow-700 border rounded-lg"},dt={class:"flex max-w-7xl mx-auto justify-start"},ct={class:"text-4xl text-gray-800"},ut=e("span",{class:"font-bold"},"Grand Total:",-1),pt={class:"text-5xl font-bold"},mt={class:"max-w-7xl mx-auto bg-white rounded mt-5 px-1"},ht={class:"grid grid-cols-12 gap-2"},ft={class:"col-span-7 p-5"},_t={class:"product_list bg-gray-50 p-1 rounded-lg mt-3 min-h-[60vmin] overflow-auto"},vt={class:"mt-24 flex max-w-lg mx-auto max-h-lg justify-center"},gt=["src"],xt={class:"col-span-5"},yt={class:"bg-white rounded-b-xl shadow-md p-5 flex justify-between max-h-[63vmin]"},bt={class:"flex"},wt=e("span",{class:"font-bold"},"Cart",-1),Ct={key:0},kt={class:"italic ml-1 text-white flex bg-red-600 p-1 rounded-lg"},Tt=e("span",{class:"font-bold"}," Items: ",-1),It={class:"bg-red-500 ml-1 px-2 text-white rounded-xl w-10 text-center"},Pt={class:"relative mt-5 px-2 overflow-x-auto min-h-[45vmin] shadow-md"},St={class:"w-full text-sm text-left text-gray-500"},Ot={class:"bg-white border-b"},Nt=e("td",{class:"px-6 py-4 font-semibold text-gray-900"},"Wrench",-1),At=e("td",{class:"px-6 py-4"},[e("div",{class:"flex items-center space-x-3"},[e("div",null,[e("div",{class:"flex items-center space-x-3"},[e("button",{class:"inline-flex items-center justify-center p-1 text-sm font-medium h-6 w-6 text-gray-500 bg-white border border-gray-300 rounded-full focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200",type:"button"},[e("span",{class:"sr-only"},"Quantity button"),e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 2"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 1h16"})])]),e("div",null,[e("input",{type:"number",id:"first_product",class:"bg-gray-50 w-14 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block px-2.5 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"1",required:""})]),e("button",{class:"inline-flex items-center justify-center h-6 w-6 p-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-full focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200",type:"button"},[e("span",{class:"sr-only"},"Quantity button"),e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})])])])])])],-1),$t=e("td",{class:"px-6 py-4 font-semibold text-gray-900"},null,-1),Rt={class:"px-6 py-4 font-semibold text-gray-900"},Lt={key:0,class:"mx-auto text-center text-xs"},Dt={key:1,class:"w-full"},Kt={class:"flow-root max-h-[50vmin] overflow-auto p-2",id:"addedCartScrll"},jt={role:"addedlist",class:"divide-y divide-gray-200"},Ft={class:"py-3 sm:py-4"},Mt={class:"flex items-center space-x-4"},Vt={class:"flex-shrink-0"},Ht=["src"],Bt={class:"flex-1 min-w-0"},zt={class:"text-sm font-medium text-gray-900 truncate"},qt={class:"inline-flex items-center text-base font-semibold text-gray-900"},Ut={class:"inline-flex items-center text-base font-semibold text-gray-900"},Gt={class:"inline-flex items-center text-base font-semibold text-gray-900"},Et={class:"item-center p-5"},Yt={class:"font-bold"},Wt={class:"font-bold"},Zt=e("span",{class:"font-bold"},"Sub-Total (Excluding VAT):",-1),Qt=e("span",{class:"font-bold"},"Sub-Total:",-1),Jt={class:"justify-end flex"},Xt={key:0,id:"defaultModal",tabindex:"-1","aria-hidden":"true",class:"fixed top-0 left-0 right-0 backdrop-blur-sm z-50 pt-52 flex justify-center item-center w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full"},es={class:"relative w-full max-w-2xl max-h-full"},ts={class:"relative bg-white rounded-lg shadow"},ss={class:"flex items-start justify-between p-4 border-b rounded-t"},os=e("h3",{class:"text-xl font-semibold text-gray-900"},"Delete All?",-1),ls=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),as=e("span",{class:"sr-only"},"Close modal",-1),ns=[ls,as],rs=e("div",{class:"p-6 space-y-6"},[e("p",{class:"text-base leading-relaxed text-gray-500"}," Are you sure you want to delete all transactions? ")],-1),is={class:"flex items-center p-6 space-x-2 border-t border-gray-200 rounded-b"},ds=["onKeyup"],cs=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),us=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),ps={class:"text-justify overflow-auto p-3 relative"},ms={id:"toPrint",class:"text-justify overflow-auto p-3 relative border bg-white flex-wrap hidden"},hs={class:""},fs=e("thead",null,[e("tr",{class:"border mb-2"},[e("th",null,[e("small",null,"CRISBODS HARDWARE AND CONSTRUCTION SUPPLY")])]),e("tr",{class:"border mb-2"},[e("th",null,[e("small",{style:{"font-size":"10px"}},"Dologon, Busco, Quezon Rd., Maramag, Bukidnon, 8714")])])],-1),_s={class:"border"},vs=e("tr",null,[e("td",null,[e("small",null,"TIN: 487-279-975-00001")])],-1),gs=e("tr",null,[e("td",null,[e("small",{style:{"font-size":"10px"}},"*************************************")])],-1),xs=e("small",null,"Customer Name:",-1),ys=e("small",null,"Customer Address:",-1),bs={style:{"font-size":"10px"}},ws=e("tr",null,[e("td",null,[e("small",{style:{"font-size":"10px"}},"*************************************")])],-1),Cs={class:""},ks=e("thead",null,[e("tr",{class:"border mb-2"},[e("th",null,[e("small",null,"Retail")]),e("th",null,[e("small",null,"QTY")]),e("th",null,[e("small",null,"TOTAL")])])],-1),Ts={class:"border"},Is={style:{width:"20px"}},Ps={style:{"font-size":"10px","word-break":"break-all"}},Ss={style:{width:"60px"}},Os={id:"totalPrice",style:{"font-size":"10px !important","word-break":"break-all"}},Ns={class:""},As={class:"border"},$s=e("tr",null,[e("td",null,[e("small",{style:{"font-size":"10px"}},"*************************************")])],-1),Rs=e("tr",null,[e("td",null,[e("small",{style:{"font-size":"10px"}},"*************************************")])],-1),Ls={class:""},Ds={class:"border mb-2"},Ks={class:"border mb-2"},js={class:"border mb-2"},Fs={class:"border"},Ms=e("tr",null,[e("td",null,[e("small",{style:{"font-size":"10px"}},"*************************************")])],-1),Vs=e("tr",null,[e("td",null,[e("small",null," This serve as an OFFICIAL RECEIPT "),e("small",null,"Thank You, Come Again")])],-1),Hs=e("tr",null,[e("td",null,[e("small",{style:{"font-size":"10px"}},"*************************************")])],-1),Bs={class:"grid grid-cols-12 gap-2"},zs={class:"col-span-full"},qs={class:"text-2xl"},Us={class:"text-4xl font-bold"},Gs={class:"col-span-full"},Es={class:"text-2xl"},Ys={class:"text-4xl font-bold"},Ws={class:"col-span-full"},Zs={class:"text-sm"},Qs={class:"font-bold"},Js={class:"col-span-full"},Xs={class:"text-sm"},eo={class:"font-bold"},to=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),fo={__name:"Cashier",props:["product","cashier_status","cashier_stat_id","tax","special_discount","code"],setup(_){const y=_,S=c(0);c(5),c(2),c(),c();const u=c(!1),b=c(!1),g=c(!1),d=c(!1),T=c(!1),P=c(""),O=c(""),I=c(1),H=c(0),v=c(0),L=c(!1);c(0),c(0),c(!1);const A=c(!1);c({exe:!1,pass:0});const s=ue({products:[],search:"",tax_id:y.tax.id,special_discount_id:d.value==!0?y.special_discount.id:null,cash:null,print_show:!1,print_status:!1,customer_name:"",customer_address:"",code_generator:""});J(()=>{ee()});const ee=a=>{y.cashier_status=="false"&&document.addEventListener("keydown",t=>{t.keyCode==112&&f.page.component=="Cashier/Cashier"?(console.log("Start transaction."),t.preventDefault()):t.keyCode==113&&f.page.component=="Cashier/Cashier"?(console.log("Discount"),d.value=!d.value,d.value?n.success("Special discount has been applied!",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}):n.error("Special discount has been removed!",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}),t.preventDefault()):t.keyCode==114&&f.page.component=="Cashier/Cashier"?(console.log("Transaction ."),t.preventDefault()):t.keyCode==115&&f.page.component=="Cashier/Cashier"?(console.log("Change Quantity."),t.preventDefault()):t.keyCode==117&&f.page.component=="Cashier/Cashier"?(console.log("Description."),t.preventDefault()):t.keyCode==118&&f.page.component=="Cashier/Cashier"?(console.log("Delete Item "),t.preventDefault()):t.ctrlKey&&t.keyCode==68&&f.page.component=="Cashier/Cashier"?(T.value||(b.value=!b.value),t.preventDefault()):t.ctrlKey&&t.shiftKey&&t.keyCode==70&&f.page.component=="Cashier/Cashier"?(console.log("SKU Look up"),b.value||(T.value=!T.value),t.preventDefault()):t.keyCode==121&&f.page.component=="Cashier/Cashier"?(console.log("Sales Return."),t.preventDefault()):t.ctrlKey&&t.keyCode==66&&f.page.component=="Cashier/Cashier"?se():t.ctrlKey&&t.keyCode==38&&f.page.component=="Cashier/Cashier"?E(!0,!1):t.ctrlKey&&t.keyCode==40&&f.page.component=="Cashier/Cashier"?E(!1,!0):t.ctrlKey&&t.keyCode==13&&f.page.component=="Cashier/Cashier"?G():u.value==!0&&t.ctrlKey&&t.keyCode==78&&f.page.component=="Cashier/Cashier"?u.value=!u.value:t.ctrlKey&&t.altKey&&t.keyCode==80&&f.page.component=="Cashier/Cashier"?(oe(),g.value=!g.value):g.value==!0&&t.ctrlKey&&t.altKey&&t.keyCode==70&&f.page.component=="Cashier/Cashier"?le():g.value==!0&&t.ctrlKey&&t.altKey&&t.keyCode==89&&f.page.component=="Cashier/Cashier"?F():g.value==!0&&t.ctrlKey&&t.altKey&&t.keyCode==78&&f.page.component=="Cashier/Cashier"?g.value=!g.value:b.value==!0&&t.ctrlKey&&t.altKey&&t.keyCode==89&&f.page.component=="Cashier/Cashier"?(s.products=[],O.value="",b.value=!1):b.value==!0&&t.ctrlKey&&t.altKey&&t.keyCode==78&&f.page.component=="Cashier/Cashier"&&(b.value=!1)}),te()};Y(()=>s.products,(a,t)=>{let o=0,C=0,$=0;a.forEach(M=>{v.value=0,H.value=0,$=0,o=o+M.cashier_quantity,$=w(M.current_price.price,M.current_discount.discount).discountedPrice*M.cashier_quantity,C=C+$}),H.value=o,v.value=C},{deep:!0}),Y(()=>A.value,a=>{a==!0&&(s.customer_name="Walk-in Customer",s.customer_address="Walk-in Customer")},{deep:!0});const w=(a,t)=>{if(t<0||t>100)return a;const o=a-a*(t/100);return{...a,discountedPrice:o.toFixed(2)}},N=a=>{let t=0,o=0,C=y.tax.tax/100;return o=parseFloat(a)*C,t=parseFloat(a)+o,t},G=()=>{let a=y.product.find(t=>t.barcode==P.value);if(a==null)n.error("Product not available!",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}),P.value="",I.value=1;else if(a!=null)if(a.quantity<=0)n.error("Product is out of stock!",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}),P.value="",I.value=1;else{let t=s.products.find(C=>C.barcode==a.barcode),o=s.products.findIndex(C=>C.barcode==a.barcode);if(t==null)a.cashier_quantity=I.value,s.products.push(a),O.value=a.product_image,n.success("Product added to cart!",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}),P.value="",I.value=1;else{let C=s.products[o].cashier_quantity+I.value;s.products[o].cashier_quantity=C,O.value=a.product_image,O.value=a.product_image,n.success("Product added to cart!",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}),P.value="",I.value=1}}},i=a=>{const t=new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"});return t.format(a),t.format(a)},te=()=>{f.put(route("cashier_stat.update_status",y.cashier_stat_id))},F=()=>{let a=N(w(v.value,d.value==!0?y.special_discount.discount:0).discountedPrice);parseFloat(s.cash)<parseFloat(a)?n.error("Inputed cash is insuficient",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}):parseFloat(s.cash)==0||s.cash==""||s.cash==null?n.error("Please input cash first to proceed!",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}):s.products.length<=0?n.error("Opps looks like there's no products in the cart, please add them first!",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}):s.customer_name==""||s.customer_name==null?n.error("Please input customer's name before can proceed",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}):s.customer_address==""||s.customer_address==null?n.error("Please input customer's address before can proceed",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}):(g.value=!1,L.value=!0,s.print_status==!0&&s.post(route("cashier.store"),{preserveScroll:!0,onSuccess:()=>{n.success("Print print",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}),ae(),A.value=!1,s.reset(),s.products=[],L.value=!1,O.value="",g.value=!1},onError:()=>{n.error(s.errors.transaction_validation,{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT})}}))},se=()=>{document.querySelector("#prodBarcodeInput").focus(),n.success("Scanner is ready!",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}),P.value=""},oe=()=>{document.querySelector("#prodBarcodeInput").blur(),n.success("Scanner is disconnected!",{autoClose:1e3,transition:n.TRANSITIONS.FLIP,position:n.POSITION.TOP_RIGHT}),P.value=""},le=()=>{document.querySelector("#prodBarcodeInput").blur(),document.querySelector("#inputCash").focus()},E=(a,t)=>{a?I.value++:t&&I.value!=1&&I.value--};pe("barcode",s);const ae=()=>{var a=document.createElement("iframe");a.style.display="none",document.body.appendChild(a);var t=document.getElementById("toPrint").cloneNode(!0),o=a.contentWindow.document;o.open(),o.appendChild(t),o.close(),a.contentWindow.print(),document.body.removeChild(a)},ne=()=>{s.print_status=!0,s.print_show=!1,F()},re=(a,t)=>{const o="…";var C,$;return a.length<=t?a:(C=Math.ceil(t/2),$=a.length-Math.floor(t/2)+1,a.substr(0,C)+o+a.substring($))};return(a,t)=>(p(),m(R,null,[x(r(me),{title:"Cashier"}),e("div",ot,[e("div",lt,[D(e("input",{id:"prodBarcodeInput","onUpdate:modelValue":t[0]||(t[0]=o=>P.value=o),onChange:G},null,544),[[V,P.value]]),D(e("input",{type:"number",class:"border-0 bg-transparent w-11","onUpdate:modelValue":t[1]||(t[1]=o=>I.value=o)},null,512),[[V,I.value]])]),e("div",at,[e("div",nt,[x(r(he),{href:a.route("cashier.index"),class:"font-semibold text-gray-600 hover:text-gray-900 focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500"},{default:k(()=>[h(" Dashboard ")]),_:1},8,["href"])])]),e("div",rt,[e("kbd",it,"Purchase Quantity: "+l(I.value),1)]),e("div",dt,[e("p",ct,[ut,e("span",pt,l(r(s).products.length==0?i(0):i(N(w(v.value,d.value==!0?_.special_discount.discount:0).discountedPrice))),1)])]),e("div",mt,[e("div",ht,[e("div",ft,[e("div",_t,[e("div",vt,[O.value?(p(),m("img",{key:0,class:"object-contain h-48 w-96",src:O.value},null,8,gt)):j("",!0)])])]),e("div",xt,[e("div",yt,[e("div",bt,[x(z,{icon:"shopping_cart",size:"sm"}),wt,d.value?(p(),m("span",Ct,[e("small",kt,[x(z,{class:"text-white",size:"xs",icon:"wheelchair"}),h(" (Special Discount) ")])])):j("",!0)]),e("div",null,[Tt,e("span",It,[e("small",null,l(H.value),1)])])]),e("div",Pt,[e("table",St,[e("tbody",null,[(p(!0),m(R,null,K(S.value,o=>(p(),m("tr",Ot,[Nt,At,$t,e("td",Rt,[e("button",null,[x(z,{icon:"close_icon",size:"sm",class:"text-red"})])])]))),256))])]),r(s).products.length===0?(p(),m("div",Lt," Scan a product ")):(p(),m("div",Dt,[e("div",Kt,[(p(!0),m(R,null,K(r(s).products,o=>(p(),m("ul",jt,[e("li",Ft,[e("div",Mt,[e("div",Vt,[e("img",{class:"w-8 h-8 rounded-full",src:o.product_image,alt:"Neil image"},null,8,Ht)]),e("div",Bt,[e("p",zt,l(o.name),1)]),e("div",qt,l(i(o.current_price.price)),1),e("div",Ut,[e("small",null,"x"+l(o.cashier_quantity),1)]),e("div",Gt,l(i(w(o.current_price.price,o.current_discount.discount).discountedPrice*o.cashier_quantity)),1)])])]))),256))])]))]),e("div",Et,[e("div",null,[e("p",null,[e("span",Yt,"VAT("+l(_.tax.tax)+"%): ",1),h(" "+l(r(s).products.length==0?i(0):i(N(w(v.value,d.value==!0?_.special_discount.discount:0).discountedPrice)-w(v.value,d.value==!0?_.special_discount.discount:0).discountedPrice)),1)]),e("p",null,[e("span",Wt,"Special Discount("+l(d.value==!0?_.special_discount.discount:0)+"%): ",1),h(" "+l(r(s).products.length==0?i(0):i(v.value-w(v.value,d.value==!0?_.special_discount.discount:0).discountedPrice)),1)]),e("p",null,[Zt,h(" "+l(r(s).products.length==0?i(0):i(v.value)),1)]),e("p",null,[Qt,h(" "+l(r(s).products.length==0?i(0):i(w(v.value,d.value==!0?_.special_discount.discount:0).discountedPrice)),1)]),e("div",Jt,[e("button",{onClick:t[2]||(t[2]=o=>g.value=!0),type:"button",class:"focus:outline-none text-white bg-yellow-600 hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2"}," Check out ")])])])])])])]),b.value?(p(),m("div",Xt,[e("div",es,[e("div",ts,[e("div",ss,[os,e("button",{onClick:t[3]||(t[3]=o=>b.value=!1),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center","data-modal-hide":"defaultModal"},ns)]),rs,e("div",is,[e("button",{onClick:t[4]||(t[4]=o=>(r(s).products=[],O.value="",b.value=!1)),"data-modal-hide":"defaultModal",type:"button",class:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Delete All (CTRL + ALT + Y) "),e("button",{onClick:t[5]||(t[5]=o=>b.value=!1),"data-modal-hide":"defaultModal",type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10"}," Decline (CTRL + ALT + N) ")])])])])):j("",!0),x(W,{show:g.value,onClose:t[11]||(t[11]=o=>g.value=!1),maxWidth:"2xl"},{title:k(()=>[h(" You are going to check out this trasaction, please input Amount cash. Payable amount is "+l(i(N(w(v.value,d.value==!0?_.special_discount.discount:0).discountedPrice))),1)]),content:k(()=>[x(Ce,{checked:A.value,"onUpdate:checked":t[6]||(t[6]=o=>A.value=o)},{default:k(()=>[h("Walk-in")]),_:1},8,["checked"]),x(Z,{id:"inputCustomerName",class:"rounded-lg w-full mb-2",type:"text",modelValue:r(s).customer_name,"onUpdate:modelValue":t[7]||(t[7]=o=>r(s).customer_name=o),autofocus:"",label:"Customer's Name",disabled:A.value==!0},null,8,["modelValue","disabled"]),x(Z,{id:"inputCustomerAddress",class:"rounded-lg w-full mb-2",type:"text",label:"Customer's Address",modelValue:r(s).customer_address,"onUpdate:modelValue":t[8]||(t[8]=o=>r(s).customer_address=o),disabled:A.value==!0},null,8,["modelValue","disabled"]),D(e("input",{id:"inputCash",class:"rounded-lg w-full mb-2",type:"number","onUpdate:modelValue":t[9]||(t[9]=o=>r(s).cash=o),onKeyup:fe(F,["enter"])},null,40,ds),[[V,r(s).cash]])]),footer:k(()=>[x(q,{onClick:t[10]||(t[10]=o=>g.value=!1),class:"mr-2"},{default:k(()=>[h(" Cancel (CTRL + ALT + N) ")]),_:1}),x(U,{class:B([{"opacity-25":r(s).processing},"bg-green-200 hover:bg-green-400"]),disabled:r(s).processing,onClick:F},{default:k(()=>[cs,h("   Proceed (CTRL + ALT + Y) ")]),_:1},8,["class","disabled"])]),_:1},8,["show"]),x(st,{SKULookup:T.value,products:y.product},null,8,["SKULookup","products"]),x(W,{show:u.value,onClose:t[13]||(t[13]=o=>u.value=!1),maxWidth:"2xl"},{title:k(()=>[h(" Are you sure you want to log-out?")]),content:k(()=>[]),footer:k(()=>[x(q,{onClick:t[12]||(t[12]=o=>u.value=!1),class:"mr-2"},{default:k(()=>[h(" Cancel (CTRL + ALT + N) ")]),_:1}),x(U,{class:B([{"opacity-25":r(s).processing},"bg-green-200 hover:bg-green-400"]),disabled:r(s).processing,onClick:a.logout_confirm},{default:k(()=>[us,h(" Proceed (CTRL + ALT + Y) ")]),_:1},8,["class","disabled","onClick"])]),_:1},8,["show"]),x(ve,{show:L.value==!0,onClose:t[16]||(t[16]=o=>L.value=!1),maxWidth:"2xl"},{content:k(()=>[e("div",ps,[e("div",ms,[e("table",hs,[fs,e("tbody",_s,[vs,e("tr",null,[e("td",null,[e("small",null,"Date: "+l(r(Q)().format("MMMM Do YYYY")),1)])]),e("tr",null,[e("td",null,[e("small",null,"Time: "+l(r(Q)().format("h:mm:ss a")),1)])]),e("tr",null,[e("td",null,[e("small",null,"Cashier: "+l(r(_e)().props.auth.user.name),1)])]),gs,e("tr",null,[e("td",null,[xs,e("small",null,l(r(s).customer_name),1)])]),e("tr",null,[e("td",null,[ys,e("small",bs,l(r(s).customer_address),1)])]),ws])]),e("table",Cs,[ks,e("tbody",Ts,[(p(!0),m(R,null,K(r(s).products,(o,C)=>(p(),m("tr",{key:C},[e("td",null,[e("small",null,l(re(o.name,18)),1)]),e("td",Is,[e("small",Ps,l(o.cashier_quantity),1)]),e("td",Ss,[e("small",Os,l(i(w(o.current_price.price,o.current_discount.discount).discountedPrice*o.cashier_quantity)),1)])]))),128))])]),e("table",Ns,[e("tbody",As,[$s,e("tr",null,[e("td",null,[e("small",null,"Special Discount("+l(y.special_discount.discount)+"%): "+l(r(s).products.length==0?i(0):i(v.value-w(v.value,d.value==!0?y.special_discount.discount:0).discountedPrice)),1)])]),e("tr",null,[e("td",null,[e("small",null,"VAT ("+l(y.tax.tax)+"%): "+l(r(s).products.length==0?i(0):i(N(w(v.value,d.value==!0?_.special_discount.discount:0).discountedPrice)-w(v.value,d.value==!0?_.special_discount.discount:0).discountedPrice)),1)])]),e("tr",null,[e("td",null,[e("small",null," Subtotal (Excluding VAT): "+l(r(s).products.length==0?i(0):i(v.value)),1)])]),e("tr",null,[e("td",null,[e("small",null,"Subtotal Amount: "+l(r(s).products.length==0?i(0):i(w(v.value,d.value==!0?_.special_discount.discount:0).discountedPrice)),1)])]),Rs])]),e("table",Ls,[e("thead",null,[e("tr",Ds,[e("td",null,[e("small",null,"TOTAL AMOUNT: "+l(r(s).products.length==0?i(0):i(N(w(v.value,d.value==!0?_.special_discount.discount:0).discountedPrice))),1)])]),e("tr",Ks,[e("td",null,[e("small",null,"CASH: "+l(i(r(s).cash)),1)])]),e("tr",js,[e("td",null,[e("small",null,"CHANGE: "+l(i(r(s).cash-(r(s).products.length==0?0:N(w(v.value,d.value==!0?_.special_discount.discount:0).discountedPrice)))),1)])])]),e("tbody",Fs,[Ms,Vs,e("tr",null,[e("td",null,[x(ge,{code:y.code,style:{width:"50px",height:"20px"}},null,8,["code"])])]),Hs])])]),e("div",Bs,[e("div",zs,[e("p",qs,[h("Money Rendered: "),e("span",Us,l(i(r(s).cash)),1)])]),e("div",Gs,[e("p",Es,[h("Change: "),e("span",Ys,l(i(r(s).cash-(r(s).products.length==0?0:N(w(v.value,d.value==!0?_.special_discount.discount:0).discountedPrice)))),1)])]),e("div",Ws,[e("p",Zs,[h("Customer name: "),e("span",Qs,l(r(s).customer_name),1)])]),e("div",Js,[e("p",Xs,[h("Customer Address: "),e("span",eo,l(r(s).customer_address),1)])])])])]),footer:k(()=>[x(q,{onClick:t[14]||(t[14]=o=>L.value=!1),class:"mr-2"},{default:k(()=>[h(" Cancel (CTRL + ALT + N) ")]),_:1}),x(U,{class:B([{"opacity-25":r(s).processing},"bg-green-200 hover:bg-green-400"]),disabled:r(s).processing,onClick:t[15]||(t[15]=o=>ne())},{default:k(()=>[to,h(" Proceed (CTRL + ALT + Y) ")]),_:1},8,["class","disabled"])]),_:1},8,["show"])],64))}};export{fo as default};
