import{r as i,T as H,c as K,w as v,o as d,a as e,b as a,s as J,d as m,e as h,f,u as l,K as I,t as b,F as W,g as X,h as $,n as q,O as P}from"./app-5fb2289d.js";import{_ as Q}from"./AppLayout-058da423.js";import Y from"./UserLists-453001c4.js";import{_ as u}from"./Input-697c4f72.js";import{_ as Z}from"./DialogModal-97ce011e.js";import{_ as ee}from"./SecondaryButton-799a6b49.js";import{_ as se}from"./Button-c80a60ee.js";import{_ as n}from"./InputError-8c30e0c0.js";import{l as c}from"./index-d292f4f4.js";import"./logo_main-f6fb4bdb.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Icon-87c675dc.js";import"./Pagination2-bdeb22bf.js";import"./ConfirmationModal-f7a04037.js";import"./Modal-c6cda4f8.js";import"./moment-fbc5633a.js";const te=e("h2",{class:"font-semibold text-lg text-gray-800 leading-tight"}," User Management ",-1),le={class:"py-"},oe={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ae={class:"flex justify-between"},re={class:"flex"},ne=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-red-500"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),ie=[ne],de={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},ue={class:"flex-shrink-0"},ce=["src","alt"],me={class:"flex-1 min-w-0"},pe={class:"text-sm font-medium text-gray-900 truncate"},ge={class:"text-sm text-gray-500 truncate"},ve={class:"grid grid-cols-12 gap-2"},fe={key:0,class:"col-span-12 mx-auto"},_e=["src"],he=["onClick"],we=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{class:"text-red-500","stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),xe=e("span",{class:"text-red-500"},"Remove",-1),ye=[we,xe],be=e("div",{class:"flex flex-col items-center justify-center pt-5 pb-6"},[e("svg",{"aria-hidden":"true",class:"w-8 h-8 mb-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),e("p",{class:"mb-1 text-sm text-gray-500 dark:text-gray-400"},[e("span",{class:"font-semibold"},"Click to upload"),f(" or drag and drop ")]),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," PNG, JPG or JPEG (MAX.1024kb) ")],-1),ke=e("input",{id:"profile_photo",type:"file",accept:"image/png, image/gif, image/jpeg",class:"hidden"},null,-1),Ce=[be,ke],Ve={class:"col-span-4"},Ie={class:"col-span-4"},Se={class:"col-span-4"},Te={class:"col-span-4"},Ue=e("svg",{class:"w-2.5 h-2.5 ml-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"})],-1),Ne={key:0,id:"dropdown",class:"z-20 bg-white divide-y divide-gray-100 rounded-lg shadow w-44 absolute"},Oe={class:"py-2 text-sm text-gray-700"},$e={class:"col-span-4"},Pe={class:"col-span-4"},je={class:"col-span-12"},Be={class:"col-span-6"},Le=e("svg",{class:"w-2.5 h-2.5 ml-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"})],-1),Me={key:0,id:"dropdown",class:"z-20 bg-white divide-y divide-gray-100 rounded-lg shadow w-44 absolute"},Ae={class:"py-2 text-sm text-gray-700"},Re={class:"col-span-6"},Fe=e("svg",{class:"w-2.5 h-2.5 ml-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"})],-1),ze={key:0,id:"dropdown",class:"z-20 bg-white divide-y divide-gray-100 rounded-lg shadow w-44 absolute"},Ee={class:"py-2 text-sm text-gray-700"},Ge={class:"col-span-6"},De={class:"col-span-6"},He=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),ds={__name:"Users",props:["users","search"],setup(j){const S=j,p=i(!1),w=i(!1),x=i(!1),y=i(!1),k=i("Select Sex"),C=i("Select Status"),V=i("Select Type"),_=i([]),g=i(S.search),t=H({fname:"",mname:"",lname:"",sex:null,birthday:null,address:"",contact_no:"",status:null,type:null,email:"",password:"password",image:[]}),B=()=>{p.value=!p.value},L=()=>{w.value=!w.value},M=()=>{x.value=!x.value},A=()=>{y.value=!y.value},T=r=>{t.sex=r,r==!1?k.value="Female":k.value="Male",w.value=!w.value},U=r=>{t.status=r,r==!1?C.value="Inactive":C.value="Active",x.value=!x.value},N=r=>{t.type=r,r==1?V.value="Administrator":V.value="Cashier",y.value=!y.value},R=()=>{t.post(route("users.add_user"),{preserveScroll:!0,onSuccess:()=>{c.success("User successfully added!",{autoClose:1e3,transition:c.TRANSITIONS.FLIP,position:c.POSITION.TOP_RIGHT}),p.value=!p.value,t.reset(),k.value.reset(),C.value.reset(),V.value.reset()},onError:()=>{c.error("Please fill out fields",{autoClose:1e3,transition:c.TRANSITIONS.FLIP,position:c.POSITION.TOP_RIGHT})}})},F=()=>{P.get(route("users.index",{search:g.value}))},z=()=>{g.value="",P.get(route("users.index",{search:g.value}))},E=()=>{let r=document.getElementById("profile_photo");r.click(),r.onchange=s=>{_.value.push(window.URL.createObjectURL(s.target.files[0])),t.image=s.target.files[0]}},G=r=>{r.preventDefault();for(const o of r.dataTransfer.files){var s=URL.createObjectURL(o);_.value.push(s),t.image=o}},D=r=>{_.value.splice(r,1),t.image=null,c.warn("Image remove",{autoClose:1e3,transition:c.TRANSITIONS.FLIP,position:c.POSITION.TOP_RIGHT})};return(r,s)=>(d(),K(Q,{title:"User management"},{header:v(()=>[te]),default:v(()=>[e("div",le,[e("div",oe,[e("div",ae,[e("div",re,[a(u,{modelValue:g.value,"onUpdate:modelValue":s[0]||(s[0]=o=>g.value=o),class:"rounded-lg mb-2 w-[30vmin]",type:"text",label:"Search users",onKeyup:J(F,["enter"])},null,8,["modelValue","onKeyup"]),g.value?(d(),m("button",{key:0,class:"p-2 h-10 my-auto mt-5",onClick:z},ie)):h("",!0)]),e("button",{onClick:B,class:"bg-yellow-400 p-2 mb-2 mt-5 rounded-lg w-[15vmin] hover:bg-yellow-500"}," Add user ")]),e("div",de,[a(Y,{users:S.users,search:g.value},null,8,["users","search"])])])]),a(Z,{show:p.value,onClose:s[18]||(s[18]=o=>p.value=!1),maxWidth:"2xl"},{title:v(()=>[f(" Add User ")]),content:v(()=>[e("div",ue,[e("img",{class:"w-10 h-10 rounded-full",src:l(I)().props.auth.user.profile_photo_url,alt:l(I)().props.auth.user.name},null,8,ce)]),e("div",me,[e("p",pe,b(l(I)().props.auth.user.name),1),e("p",ge,b(l(I)().props.auth.user.email),1)]),e("div",ve,[_.value.length!=0?(d(),m("div",fe,[(d(!0),m(W,null,X(_.value,(o,O)=>(d(),m("div",{key:O,class:"flex-shrink-0"},[e("img",{class:"w-16 h-16 rounded-full",src:o},null,8,_e),e("button",{onClick:Ke=>D(O),class:"flex text-gray-400 hover:text-gray-600"},ye,8,he)]))),128))])):h("",!0),_.value.length!=1?(d(),m("div",{key:1,class:"col-span-12",onDragover:s[1]||(s[1]=$(()=>{},["prevent"])),onDrop:s[2]||(s[2]=$(()=>{},["prevent"]))},[e("label",{onDrop:G,onClick:E,for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-20 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100"},Ce,32),a(n,{message:l(t).errors.image,class:"mt-2"},null,8,["message"])],32)):h("",!0),e("div",Ve,[a(u,{label:"First name",type:"text",class:"mt-1 block w-full",modelValue:l(t).fname,"onUpdate:modelValue":s[3]||(s[3]=o=>l(t).fname=o),autofocus:""},null,8,["modelValue"]),a(n,{message:l(t).errors.fname,class:"mt-2"},null,8,["message"])]),e("div",Ie,[a(u,{label:"Middle Name",type:"text",class:"block w-full",modelValue:l(t).mname,"onUpdate:modelValue":s[4]||(s[4]=o=>l(t).mname=o),autofocus:""},null,8,["modelValue"]),a(n,{message:l(t).errors.mname,class:"mt-2"},null,8,["message"])]),e("div",Se,[a(u,{label:"Last Name",type:"text",class:"block w-full",modelValue:l(t).lname,"onUpdate:modelValue":s[5]||(s[5]=o=>l(t).lname=o),autofocus:""},null,8,["modelValue"]),a(n,{message:l(t).errors.lname,class:"mt-2"},null,8,["message"])]),e("div",Te,[e("button",{onClick:L,class:"text-gray-500 bg-white focus:ring-1 focus:outline-none focus:ring-yellow-500 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center border border-gray-300 mt-5 w-full",type:"button"},[f(b(k.value)+" ",1),Ue]),w.value?(d(),m("div",Ne,[e("ul",Oe,[e("li",null,[e("a",{onClick:s[6]||(s[6]=o=>T(!1)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Female "),e("a",{onClick:s[7]||(s[7]=o=>T(!0)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Male ")])])])):h("",!0),a(n,{message:l(t).errors.sex,class:"mt-2"},null,8,["message"])]),e("div",$e,[a(u,{label:"Birthday",type:"date",class:"block w-full",modelValue:l(t).birthday,"onUpdate:modelValue":s[8]||(s[8]=o=>l(t).birthday=o),autofocus:""},null,8,["modelValue"]),a(n,{message:l(t).errors.birthday,class:"mt-2"},null,8,["message"])]),e("div",Pe,[a(u,{label:"Contact No",type:"text",class:"block w-full",modelValue:l(t).contact_no,"onUpdate:modelValue":s[9]||(s[9]=o=>l(t).contact_no=o),autofocus:""},null,8,["modelValue"]),a(n,{message:l(t).errors.contact_no,class:"mt-2"},null,8,["message"])]),e("div",je,[a(u,{label:"Permanent Address",type:"text",class:"block w-full",modelValue:l(t).address,"onUpdate:modelValue":s[10]||(s[10]=o=>l(t).address=o),autofocus:""},null,8,["modelValue"]),a(n,{message:l(t).errors.address,class:"mt-2"},null,8,["message"])]),e("div",Be,[e("button",{onClick:M,class:"text-gray-500 bg-white focus:ring-1 focus:outline-none focus:ring-yellow-500 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center border border-gray-300 mt-5 w-full",type:"button"},[f(b(C.value)+" ",1),Le]),x.value?(d(),m("div",Me,[e("ul",Ae,[e("li",null,[e("a",{onClick:s[11]||(s[11]=o=>U(!0)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Active "),e("a",{onClick:s[12]||(s[12]=o=>U(!1)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Inactive ")])])])):h("",!0),a(n,{message:l(t).errors.status,class:"mt-2"},null,8,["message"])]),e("div",Re,[e("button",{onClick:A,class:"text-gray-500 bg-white focus:ring-1 focus:outline-none focus:ring-yellow-500 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center border border-gray-300 mt-5 w-full",type:"button"},[f(b(V.value)+" ",1),Fe]),y.value?(d(),m("div",ze,[e("ul",Ee,[e("li",null,[e("a",{onClick:s[13]||(s[13]=o=>N(1)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Administrator "),e("a",{onClick:s[14]||(s[14]=o=>N(3)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Cashier ")])])])):h("",!0),a(n,{message:l(t).errors.type,class:"mt-2"},null,8,["message"])]),e("div",Ge,[a(u,{label:"Email",type:"text",class:"block w-full",modelValue:l(t).email,"onUpdate:modelValue":s[15]||(s[15]=o=>l(t).email=o),autofocus:"",placeholder:"Ex:Johndoe@gmail.com"},null,8,["modelValue"]),a(n,{message:l(t).errors.email,class:"mt-2"},null,8,["message"])]),e("div",De,[a(u,{label:"Password",type:"password",class:"block w-full",modelValue:l(t).password,"onUpdate:modelValue":s[16]||(s[16]=o=>l(t).password=o),autofocus:""},null,8,["modelValue"]),a(n,{message:l(t).errors.password,class:"mt-2"},null,8,["message"])])])]),footer:v(()=>[a(ee,{onClick:s[17]||(s[17]=o=>p.value=!1),class:"mr-2"},{default:v(()=>[f(" Cancel ")]),_:1}),a(se,{class:q([{"opacity-25":l(t).processing},"bg-yellow-200 hover:bg-yellow-400"]),disabled:l(t).processing,onClick:R},{default:v(()=>[He,f(" Save ")]),_:1},8,["class","disabled"])]),_:1},8,["show"])]),_:1}))}};export{ds as default};
