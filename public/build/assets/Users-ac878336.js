import{r as i,T as G,o as d,c as I,w as g,a as e,b as a,q as J,d as c,e as h,f as v,u as l,K as C,t as y,F as H,g as q,h as L,n as W,O as S}from"./app-446e3cd7.js";import{_ as X}from"./AppLayout-2097ddb4.js";import Q from"./UserLists-47d56bae.js";import{_ as u}from"./Input-6be026a1.js";import{_ as Y}from"./DialogModal-b191a85c.js";import{_ as Z}from"./SecondaryButton-9cfc8b53.js";import{_ as ee}from"./Icon-cf2cbbb0.js";import{_ as n}from"./InputError-f8d375e9.js";import"./logo_main-f6fb4bdb.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ConfirmationModal-c7ef3d17.js";import"./Modal-5c83d8a0.js";const se=e("h2",{class:"font-semibold text-lg text-gray-800 leading-tight"}," User Management ",-1),te={class:"py-"},le={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},oe={class:"flex justify-between"},ae={class:"flex"},re=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-red-500"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),ne=[re],ie={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},de={class:"flex-shrink-0"},ue=["src","alt"],ce={class:"flex-1 min-w-0"},me={class:"text-sm font-medium text-gray-900 truncate"},pe={class:"text-sm text-gray-500 truncate"},ge={class:"grid grid-cols-12 gap-2"},ve={key:0,class:"col-span-12 mx-auto"},fe=["src"],he=["onClick"],_e=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{class:"text-red-500","stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),we=e("span",{class:"text-red-500"},"Remove",-1),xe=[_e,we],ye=e("div",{class:"flex flex-col items-center justify-center pt-5 pb-6"},[e("svg",{"aria-hidden":"true",class:"w-8 h-8 mb-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),e("p",{class:"mb-1 text-sm text-gray-500 dark:text-gray-400"},[e("span",{class:"font-semibold"},"Click to upload"),v(" or drag and drop ")]),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," PNG, JPG or JPEG (MAX.1024kb) ")],-1),be=e("input",{id:"profile_photo",type:"file",accept:"image/png, image/gif, image/jpeg",class:"hidden"},null,-1),ke=[ye,be],Ve={class:"col-span-4"},Ce={class:"col-span-4"},Ue={class:"col-span-4"},$e={class:"col-span-4"},je=e("svg",{class:"w-2.5 h-2.5 ml-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"})],-1),Be={key:0,id:"dropdown",class:"z-20 bg-white divide-y divide-gray-100 rounded-lg shadow w-44 absolute"},Me={class:"py-2 text-sm text-gray-700"},Le={class:"col-span-4"},Se={class:"col-span-4"},Ae={class:"col-span-12"},Ne={class:"col-span-6"},Fe=e("svg",{class:"w-2.5 h-2.5 ml-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"})],-1),ze={key:0,id:"dropdown",class:"z-20 bg-white divide-y divide-gray-100 rounded-lg shadow w-44 absolute"},De={class:"py-2 text-sm text-gray-700"},Ee={class:"col-span-6"},Pe=e("svg",{class:"w-2.5 h-2.5 ml-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"})],-1),Re={key:0,id:"dropdown",class:"z-20 bg-white divide-y divide-gray-100 rounded-lg shadow w-44 absolute"},Ke={class:"py-2 text-sm text-gray-700"},Oe={class:"col-span-6"},Te={class:"col-span-6"},Ge=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),os={__name:"Users",props:["users","search"],setup(A){const U=A,m=i(!1),_=i(!1),w=i(!1),x=i(!1),b=i("Select Sex"),k=i("Select Status"),V=i("Select Type"),f=i([]),p=i(U.search),t=G({fname:"",mname:"",lname:"",sex:null,birthday:null,address:"",contact_no:"",status:null,type:null,email:"",password:"password",image:[]}),N=()=>{m.value=!m.value},F=()=>{_.value=!_.value},z=()=>{w.value=!w.value},D=()=>{x.value=!x.value},$=r=>{t.sex=r,r==!1?b.value="Female":b.value="Male",_.value=!_.value},j=r=>{t.status=r,r==!1?k.value="Inactive":k.value="Active",w.value=!w.value},B=r=>{t.type=r,r==1?V.value="Administrator":V.value="Cashier",x.value=!x.value},E=()=>{t.post(route("users.add_user"),{preserveScroll:!0,onSuccess:()=>{alert("success"),m.value=!m.value,t.reset(),b.value.reset(),k.value.reset(),V.value.reset()},onError:r=>{console.log(r)}})},P=()=>{S.get(route("users.index",{search:p.value}))},R=()=>{p.value="",S.get(route("users.index",{search:p.value}))},K=()=>{let r=document.getElementById("profile_photo");r.click(),r.onchange=s=>{f.value.push(window.URL.createObjectURL(s.target.files[0])),t.image=s.target.files[0]}},O=r=>{r.preventDefault();for(const o of r.dataTransfer.files){var s=URL.createObjectURL(o);f.value.push(s),t.image=o}},T=r=>{f.value.splice(r,1),t.image=null};return(r,s)=>(d(),I(X,{title:"Dashboard"},{header:g(()=>[se]),default:g(()=>[e("div",te,[e("div",le,[e("div",oe,[e("div",ae,[a(u,{modelValue:p.value,"onUpdate:modelValue":s[0]||(s[0]=o=>p.value=o),class:"rounded-lg mb-2 w-[30vmin]",type:"text",label:"Search users",onKeyup:J(P,["enter"])},null,8,["modelValue","onKeyup"]),p.value?(d(),c("button",{key:0,class:"p-2 h-10 my-auto mt-5",onClick:R},ne)):h("",!0)]),e("button",{onClick:N,class:"bg-yellow-400 p-2 mb-2 mt-5 rounded-lg w-[15vmin] hover:bg-yellow-500"}," Add user ")]),e("div",ie,[a(Q,{users:U.users,search:p.value},null,8,["users","search"])])])]),a(Y,{show:m.value,onClose:s[18]||(s[18]=o=>m.value=!1),maxWidth:"2xl"},{title:g(()=>[v(" Add User ")]),content:g(()=>[e("div",de,[e("img",{class:"w-10 h-10 rounded-full",src:l(C)().props.auth.user.profile_photo_url,alt:l(C)().props.auth.user.name},null,8,ue)]),e("div",ce,[e("p",me,y(l(C)().props.auth.user.name),1),e("p",pe,y(l(C)().props.auth.user.email),1)]),e("div",ge,[f.value.length!=0?(d(),c("div",ve,[(d(!0),c(H,null,q(f.value,(o,M)=>(d(),c("div",{key:M,class:"flex-shrink-0"},[e("img",{class:"w-16 h-16 rounded-full",src:o},null,8,fe),e("button",{onClick:Ie=>T(M),class:"flex text-gray-400 hover:text-gray-600"},xe,8,he)]))),128))])):h("",!0),f.value.length!=1?(d(),c("div",{key:1,class:"col-span-12",onDragover:s[1]||(s[1]=L(()=>{},["prevent"])),onDrop:s[2]||(s[2]=L(()=>{},["prevent"]))},[e("label",{onDrop:O,onClick:K,for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-20 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100"},ke,32)],32)):h("",!0),e("div",Ve,[a(u,{label:"First name",type:"text",class:"mt-1 block w-full",modelValue:l(t).fname,"onUpdate:modelValue":s[3]||(s[3]=o=>l(t).fname=o),autofocus:""},null,8,["modelValue"]),a(n,{message:l(t).errors.fname,class:"mt-2"},null,8,["message"])]),e("div",Ce,[a(u,{label:"Middle Name",type:"text",class:"block w-full",modelValue:l(t).mname,"onUpdate:modelValue":s[4]||(s[4]=o=>l(t).mname=o),autofocus:""},null,8,["modelValue"]),a(n,{message:l(t).errors.mname,class:"mt-2"},null,8,["message"])]),e("div",Ue,[a(u,{label:"Last Name",type:"text",class:"block w-full",modelValue:l(t).lname,"onUpdate:modelValue":s[5]||(s[5]=o=>l(t).lname=o),autofocus:""},null,8,["modelValue"]),a(n,{message:l(t).errors.lname,class:"mt-2"},null,8,["message"])]),e("div",$e,[e("button",{onClick:F,class:"text-gray-500 bg-white focus:ring-1 focus:outline-none focus:ring-yellow-500 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center border border-gray-300 mt-5 w-full",type:"button"},[v(y(b.value)+" ",1),je]),_.value?(d(),c("div",Be,[e("ul",Me,[e("li",null,[e("a",{onClick:s[6]||(s[6]=o=>$(!1)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Female "),e("a",{onClick:s[7]||(s[7]=o=>$(!0)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Male ")])])])):h("",!0),a(n,{message:l(t).errors.sex,class:"mt-2"},null,8,["message"])]),e("div",Le,[a(u,{label:"Birthday",type:"date",class:"block w-full",modelValue:l(t).birthday,"onUpdate:modelValue":s[8]||(s[8]=o=>l(t).birthday=o),autofocus:""},null,8,["modelValue"]),a(n,{message:l(t).errors.birthday,class:"mt-2"},null,8,["message"])]),e("div",Se,[a(u,{label:"Contact No",type:"text",class:"block w-full",modelValue:l(t).contact_no,"onUpdate:modelValue":s[9]||(s[9]=o=>l(t).contact_no=o),autofocus:""},null,8,["modelValue"]),a(n,{message:l(t).errors.contact_no,class:"mt-2"},null,8,["message"])]),e("div",Ae,[a(u,{label:"Permanent Address",type:"text",class:"block w-full",modelValue:l(t).address,"onUpdate:modelValue":s[10]||(s[10]=o=>l(t).address=o),autofocus:""},null,8,["modelValue"]),a(n,{message:l(t).errors.address,class:"mt-2"},null,8,["message"])]),e("div",Ne,[e("button",{onClick:z,class:"text-gray-500 bg-white focus:ring-1 focus:outline-none focus:ring-yellow-500 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center border border-gray-300 mt-5 w-full",type:"button"},[v(y(k.value)+" ",1),Fe]),w.value?(d(),c("div",ze,[e("ul",De,[e("li",null,[e("a",{onClick:s[11]||(s[11]=o=>j(!0)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Active "),e("a",{onClick:s[12]||(s[12]=o=>j(!1)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Inactive ")])])])):h("",!0),a(n,{message:l(t).errors.status,class:"mt-2"},null,8,["message"])]),e("div",Ee,[e("button",{onClick:D,class:"text-gray-500 bg-white focus:ring-1 focus:outline-none focus:ring-yellow-500 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center border border-gray-300 mt-5 w-full",type:"button"},[v(y(V.value)+" ",1),Pe]),x.value?(d(),c("div",Re,[e("ul",Ke,[e("li",null,[e("a",{onClick:s[13]||(s[13]=o=>B(1)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Administrator "),e("a",{onClick:s[14]||(s[14]=o=>B(3)),class:"block px-4 py-2 hover:bg-gray-100 cursor-pointer"},"Cashier ")])])])):h("",!0),a(n,{message:l(t).errors.type,class:"mt-2"},null,8,["message"])]),e("div",Oe,[a(u,{label:"Email",type:"text",class:"block w-full",modelValue:l(t).email,"onUpdate:modelValue":s[15]||(s[15]=o=>l(t).email=o),autofocus:"",placeholder:"Ex:Johndoe@gmail.com"},null,8,["modelValue"]),a(n,{message:l(t).errors.email,class:"mt-2"},null,8,["message"])]),e("div",Te,[a(u,{label:"Password",type:"password",class:"block w-full",modelValue:l(t).password,"onUpdate:modelValue":s[16]||(s[16]=o=>l(t).password=o),autofocus:""},null,8,["modelValue"]),a(n,{message:l(t).errors.password,class:"mt-2"},null,8,["message"])])])]),footer:g(()=>[a(Z,{onClick:s[17]||(s[17]=o=>m.value=!1),class:"mr-2"},{default:g(()=>[v(" nevermind ")]),_:1}),a(ee,{class:W([{"opacity-25":l(t).processing},"bg-yellow-200 hover:bg-yellow-400"]),disabled:l(t).processing,onClick:E},{default:g(()=>[Ge,v(" Save ")]),_:1},8,["class","disabled"])]),_:1},8,["show"])]),_:1}))}};export{os as default};
